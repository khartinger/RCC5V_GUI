{"remainingRequest":"G:\\work3\\vue\\haus3\\node_modules\\thread-loader\\dist\\cjs.js!G:\\work3\\vue\\haus3\\node_modules\\ts-loader\\index.js??ref--13-2!G:\\work3\\vue\\haus3\\src\\controller\\CiZ2Mstatus1Controller.ts","dependencies":[{"path":"G:\\work3\\vue\\haus3\\src\\controller\\CiZ2Mstatus1Controller.ts","mtime":1677952436910},{"path":"G:\\work3\\vue\\haus3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus3\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus3\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSAidHNsaWIiOw0KLy8gX19fX19fQ2laMk1zdGF0dXMxQ29udHJvbGxlci50c19fX19fX19fX19fX19fX2toYXJ0aW5nZXJfX19fXw0KLy8gMjAyMy0wMi0yODogbmV3DQppbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7DQppbXBvcnQgeyBDaUJhc2VDb250cm9sbGVyIH0gZnJvbSAnLi9DaUJhc2VDb250cm9sbGVyJzsNCnZhciBDaVoyTXN0YXR1czFDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgew0KICAgIF9fZXh0ZW5kcyhDaVoyTXN0YXR1czFDb250cm9sbGVyLCBfc3VwZXIpOw0KICAgIGZ1bmN0aW9uIENpWjJNc3RhdHVzMUNvbnRyb2xsZXIoKSB7DQogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOw0KICAgICAgICBfdGhpcy56Mk1zdGF0dXMxcyA9IHJlYWN0aXZlKFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ3oybXN0YXR1czEnLA0KICAgICAgICAgICAgICAgIG5hbWU6ICdTdGF0dXMgemlnYmVlMk1RVFQnLA0KICAgICAgICAgICAgICAgIGlaMk1zdGF0dXNTdGF0ZTogLTk5LA0KICAgICAgICAgICAgICAgIHRleHRVcHBlcjogJ2dldCBTdGF0dXMgWjJNJywNCiAgICAgICAgICAgICAgICB0ZXh0TG93ZXI6ICdSZXN0YXJ0IFoyTSAnLA0KICAgICAgICAgICAgICAgIHRleHRGb290ZXI6ICd1bmtub3duJywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ3piL2JyaWRnZS9yZXNwb25zZS9oZWFsdGhfY2hlY2sgemIvYnJpZGdlL3Jlc3BvbnNlL3Jlc3RhcnQgemIvYnJpZGdlL3N0YXRlJywNCiAgICAgICAgICAgICAgICBwdWJUb3BpYzogJ3piL2JyaWRnZS9yZXF1ZXN0L2hlYWx0aF9jaGVjaycsDQogICAgICAgICAgICAgICAgcHViUGF5bG9hZDogJycsDQogICAgICAgICAgICAgICAgcHViVG9waWMyOiAnemIvYnJpZGdlL3JlcXVlc3QvcmVzdGFydCcsDQogICAgICAgICAgICAgICAgcHViUGF5bG9hZDI6ICcnDQogICAgICAgICAgICB9DQogICAgICAgIF0pOw0KICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLXN0YXRlIGNvbnN0YW50cy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICBfdGhpcy5tYXNrWjJtT25saW5lID0gMHgyMDsNCiAgICAgICAgX3RoaXMubWFza1oybU9ubGluZVZhbGlkID0gMHgxMDsNCiAgICAgICAgX3RoaXMubWFza1oybUVycm9yID0gMHgwODsNCiAgICAgICAgX3RoaXMubWFza1oybUhlYWx0aHkgPSAweDA0Ow0KICAgICAgICBfdGhpcy5tYXNrWjJtU3RhdHVzT2sgPSAweDAyOw0KICAgICAgICBfdGhpcy5tYXNrWjJtU3RhdHVzVmFsaWQgPSAweDAxOw0KICAgICAgICByZXR1cm4gX3RoaXM7DQogICAgfQ0KICAgIENpWjJNc3RhdHVzMUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7DQogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgICAgIHRoaXMuejJNc3RhdHVzMXMuZm9yRWFjaChmdW5jdGlvbiAoejJtc3RhdHVzMSkgew0KICAgICAgICAgICAgdmFyIGFTdWJUb3BpYyA9IHoybXN0YXR1czEuc3ViVG9waWMuc3BsaXQoJyAnKTsNCiAgICAgICAgICAgIGlmIChhU3ViVG9waWMuaW5jbHVkZXMobWVzc2FnZS50b3BpYykpIHsNCiAgICAgICAgICAgICAgICAvLyA9PT16Mm1zdGF0dXMxIGZvdW5kPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0KICAgICAgICAgICAgICAgIC8vIGhlYWx0aCBjaGVjazogdG9waWMgejJtL2JyaWRnZS9yZXNwb25zZS9oZWFsdGhfY2hlY2stDQogICAgICAgICAgICAgICAgaWYgKHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlIDwgMCkNCiAgICAgICAgICAgICAgICAgICAgejJtc3RhdHVzMS5pWjJNc3RhdHVzU3RhdGUgPSAwOw0KICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRvcGljLmluY2x1ZGVzKCdoZWFsdGhfY2hlY2snKSkgew0KICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF5bG9hZDogeyJkYXRhIjp7ImhlYWx0aHkiOnRydWV9LCJzdGF0dXMiOiJvayJ9DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhtZXNzYWdlLnBheWxvYWQpDQogICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSB8PSBfdGhpcy5tYXNrWjJtRXJyb3I7DQogICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSAmPSB+X3RoaXMubWFza1oybVN0YXR1c1ZhbGlkOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGF5bG9hZC5pbmNsdWRlcygnImhlYWx0aHkiJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSAmPSB+X3RoaXMubWFza1oybUVycm9yOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBheWxvYWQuaW5jbHVkZXMoJyJoZWFsdGh5Ijp0cnVlJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgejJtc3RhdHVzMS5pWjJNc3RhdHVzU3RhdGUgfD0gX3RoaXMubWFza1oybUhlYWx0aHk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlIHw9IF90aGlzLm1hc2taMm1TdGF0dXNWYWxpZDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlICY9IH5fdGhpcy5tYXNrWjJtSGVhbHRoeTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgejJtc3RhdHVzMS5pWjJNc3RhdHVzU3RhdGUgfD0gX3RoaXMubWFza1oybVN0YXR1c1ZhbGlkOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBheWxvYWQuaW5jbHVkZXMoJyJzdGF0dXMiJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSAmPSB+X3RoaXMubWFza1oybUVycm9yOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBheWxvYWQuaW5jbHVkZXMoJyJzdGF0dXMiOiJvayInKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSB8PSBfdGhpcy5tYXNrWjJtU3RhdHVzT2s7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlIHw9IF90aGlzLm1hc2taMm1TdGF0dXNWYWxpZDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlICY9IH5fdGhpcy5tYXNrWjJtU3RhdHVzT2s7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlIHw9IF90aGlzLm1hc2taMm1TdGF0dXNWYWxpZDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSB8PSBfdGhpcy5tYXNrWjJtRXJyb3I7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8gYWZ0ZXIgcmVzdGFydDogdG9waWMgejJtL2JyaWRnZS9yZXNwb25zZS9yZXN0YXJ0LS0tLS0NCiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50b3BpYy5pbmNsdWRlcygncmVzdGFydCcpKSB7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXlsb2FkOiB7ImRhdGEiOnt9LCJzdGF0dXMiOiJvayJ9DQogICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSB8PSBfdGhpcy5tYXNrWjJtRXJyb3I7DQogICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSAmPSB+X3RoaXMubWFza1oybVN0YXR1c1ZhbGlkOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGF5bG9hZC5pbmNsdWRlcygnInN0YXR1cyInKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlICY9IH5fdGhpcy5tYXNrWjJtRXJyb3I7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGF5bG9hZC5pbmNsdWRlcygnInN0YXR1cyI6Im9rIicpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlIHw9IF90aGlzLm1hc2taMm1TdGF0dXNPazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgejJtc3RhdHVzMS5pWjJNc3RhdHVzU3RhdGUgfD0gX3RoaXMubWFza1oybVN0YXR1c1ZhbGlkOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgejJtc3RhdHVzMS5pWjJNc3RhdHVzU3RhdGUgJj0gfl90aGlzLm1hc2taMm1TdGF0dXNPazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgejJtc3RhdHVzMS5pWjJNc3RhdHVzU3RhdGUgfD0gX3RoaXMubWFza1oybVN0YXR1c1ZhbGlkOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlIHw9IF90aGlzLm1hc2taMm1FcnJvcjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyBhZnRlciByZXN0YXJ0OiB0b3BpYyB6Mm0vYnJpZGdlL3N0YXRlLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRvcGljLmluY2x1ZGVzKCdzdGF0ZScpKSB7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXlsb2FkOiBvbmxpbmV8b2ZmbGluZQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobWVzc2FnZS5wYXlsb2FkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlIDwgMCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSAmPSB+X3RoaXMubWFza1oybU9ubGluZVZhbGlkOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGF5bG9hZCA9PT0gJ29ubGluZScpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6Mm1zdGF0dXMxLmlaMk1zdGF0dXNTdGF0ZSB8PSBfdGhpcy5tYXNrWjJtT25saW5lOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlIHw9IF90aGlzLm1hc2taMm1PbmxpbmVWYWxpZDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBheWxvYWQgPT09ICdvZmZsaW5lJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlICY9IH5fdGhpcy5tYXNrWjJtT25saW5lOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlIHw9IF90aGlzLm1hc2taMm1PbmxpbmVWYWxpZDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHoybXN0YXR1czEuaVoyTXN0YXR1c1N0YXRlICY9IH5fdGhpcy5tYXNrWjJtT25saW5lVmFsaWQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH07DQogICAgQ2laMk1zdGF0dXMxQ29udHJvbGxlci5wcm90b3R5cGUucHVibGlzaENpID0gZnVuY3Rpb24gKHRvcGljLCBwYXlsb2FkKSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaUJ1dHRvbjFDb250cm9sbGVyOnB1Ymxpc2hDaTonLCAnLXQgJyArIHRvcGljICsgJyAtbSAnICsgcGF5bG9hZCkNCiAgICAgICAgdGhpcy5wdWJsaXNoKHRvcGljLCBwYXlsb2FkLCBmYWxzZSwgMCkuY2F0Y2goZnVuY3Rpb24gKGUpIHsgY29uc29sZS5lcnJvcignQ2lCdXR0b25Db250cm9sbGVyOiBFUlJPUjonLCBlKTsgfSk7DQogICAgfTsNCiAgICByZXR1cm4gQ2laMk1zdGF0dXMxQ29udHJvbGxlcjsNCn0oQ2lCYXNlQ29udHJvbGxlcikpOw0KZXhwb3J0IHsgQ2laMk1zdGF0dXMxQ29udHJvbGxlciB9Ow0KZXhwb3J0IHZhciBjaVoyTXN0YXR1czFDb250cm9sbGVyID0gbmV3IENpWjJNc3RhdHVzMUNvbnRyb2xsZXIoKTsNCg=="},{"version":3,"file":"G:\\work3\\vue\\haus3\\src\\controller\\CiZ2Mstatus1Controller.ts","sourceRoot":"","sources":["G:\\work3\\vue\\haus3\\src\\controller\\CiZ2Mstatus1Controller.ts"],"names":[],"mappings":"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","sourcesContent":["// ______CiZ2Mstatus1Controller.ts_______________khartinger_____\r\n// 2023-02-28: new\r\nimport { reactive } from 'vue'\r\nimport { Message } from '@/services/CiMqttClient'\r\nimport { CiBaseController, IBase } from './CiBaseController'\r\n\r\nexport interface Z2Mstatus1 extends IBase {\r\n  iZ2MstatusState: number;\r\n  textUpper?: string;\r\n  textLower?: string;\r\n  textFooter?: string;\r\n  pubTopic2?: string;\r\n  pubPayload2?: string;\r\n  // Note: default pubPayload means pubPayloadUpper!\r\n}\r\n\r\nexport class CiZ2Mstatus1Controller extends CiBaseController {\r\n  public z2Mstatus1s: Array<Z2Mstatus1> = reactive(\r\n    [\r\n      {\r\n        id: 'z2mstatus1',\r\n        name: 'Status zigbee2MQTT',\r\n        iZ2MstatusState: -99,\r\n        textUpper: 'get Status Z2M',\r\n        textLower: 'Restart Z2M ',\r\n        textFooter: 'unknown',\r\n        subTopic: 'zb/bridge/response/health_check zb/bridge/response/restart zb/bridge/state',\r\n        pubTopic: 'zb/bridge/request/health_check',\r\n        pubPayload: '',\r\n        pubTopic2: 'zb/bridge/request/restart',\r\n        pubPayload2: ''\r\n      }\r\n    ]\r\n  );\r\n\r\n  // --------------state constants------------------------------\r\n  public maskZ2mOnline = 0x20;\r\n  public maskZ2mOnlineValid = 0x10;\r\n  public maskZ2mError = 0x08;\r\n  public maskZ2mHealthy = 0x04;\r\n  public maskZ2mStatusOk = 0x02;\r\n  public maskZ2mStatusValid = 0x01;\r\n\r\n  public onMessage (message: Message): void {\r\n    this.z2Mstatus1s.forEach(z2mstatus1 => {\r\n      const aSubTopic = z2mstatus1.subTopic.split(' ')\r\n      if (aSubTopic.includes(message.topic)) {\r\n        // ===z2mstatus1 found==================================\r\n        // health check: topic z2m/bridge/response/health_check-\r\n        if (z2mstatus1.iZ2MstatusState < 0) z2mstatus1.iZ2MstatusState = 0\r\n        if (message.topic.includes('health_check')) {\r\n          try {\r\n            // payload: {\"data\":{\"healthy\":true},\"status\":\"ok\"}\r\n            // console.log(message.payload)\r\n            z2mstatus1.iZ2MstatusState |= this.maskZ2mError\r\n            z2mstatus1.iZ2MstatusState &= ~this.maskZ2mStatusValid\r\n            if (message.payload.includes('\"healthy\"')) {\r\n              z2mstatus1.iZ2MstatusState &= ~this.maskZ2mError\r\n              if (message.payload.includes('\"healthy\":true')) {\r\n                z2mstatus1.iZ2MstatusState |= this.maskZ2mHealthy\r\n                z2mstatus1.iZ2MstatusState |= this.maskZ2mStatusValid\r\n              } else {\r\n                z2mstatus1.iZ2MstatusState &= ~this.maskZ2mHealthy\r\n                z2mstatus1.iZ2MstatusState |= this.maskZ2mStatusValid\r\n              }\r\n            }\r\n            if (message.payload.includes('\"status\"')) {\r\n              z2mstatus1.iZ2MstatusState &= ~this.maskZ2mError\r\n              if (message.payload.includes('\"status\":\"ok\"')) {\r\n                z2mstatus1.iZ2MstatusState |= this.maskZ2mStatusOk\r\n                z2mstatus1.iZ2MstatusState |= this.maskZ2mStatusValid\r\n              } else {\r\n                z2mstatus1.iZ2MstatusState &= ~this.maskZ2mStatusOk\r\n                z2mstatus1.iZ2MstatusState |= this.maskZ2mStatusValid\r\n              }\r\n            }\r\n          } catch (error) {\r\n            z2mstatus1.iZ2MstatusState |= this.maskZ2mError\r\n          }\r\n        }\r\n        // after restart: topic z2m/bridge/response/restart-----\r\n        if (message.topic.includes('restart')) {\r\n          try {\r\n            // payload: {\"data\":{},\"status\":\"ok\"}\r\n            z2mstatus1.iZ2MstatusState |= this.maskZ2mError\r\n            z2mstatus1.iZ2MstatusState &= ~this.maskZ2mStatusValid\r\n            if (message.payload.includes('\"status\"')) {\r\n              z2mstatus1.iZ2MstatusState &= ~this.maskZ2mError\r\n              if (message.payload.includes('\"status\":\"ok\"')) {\r\n                z2mstatus1.iZ2MstatusState |= this.maskZ2mStatusOk\r\n                z2mstatus1.iZ2MstatusState |= this.maskZ2mStatusValid\r\n              } else {\r\n                z2mstatus1.iZ2MstatusState &= ~this.maskZ2mStatusOk\r\n                z2mstatus1.iZ2MstatusState |= this.maskZ2mStatusValid\r\n              }\r\n            }\r\n          } catch (error) {\r\n            z2mstatus1.iZ2MstatusState |= this.maskZ2mError\r\n          }\r\n        }\r\n        // after restart: topic z2m/bridge/state----------------\r\n        if (message.topic.includes('state')) {\r\n          try {\r\n            // payload: online|offline\r\n            // console.log(message.payload)\r\n            if (z2mstatus1.iZ2MstatusState < 0) z2mstatus1.iZ2MstatusState = 0\r\n            z2mstatus1.iZ2MstatusState &= ~this.maskZ2mOnlineValid\r\n            if (message.payload === 'online') {\r\n              z2mstatus1.iZ2MstatusState |= this.maskZ2mOnline\r\n              z2mstatus1.iZ2MstatusState |= this.maskZ2mOnlineValid\r\n            }\r\n            if (message.payload === 'offline') {\r\n              z2mstatus1.iZ2MstatusState &= ~this.maskZ2mOnline\r\n              z2mstatus1.iZ2MstatusState |= this.maskZ2mOnlineValid\r\n            }\r\n          } catch (error) {\r\n            z2mstatus1.iZ2MstatusState &= ~this.maskZ2mOnlineValid\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  public publishCi (topic: string, payload: string): void {\r\n    // console.log('CiButton1Controller:publishCi:', '-t ' + topic + ' -m ' + payload)\r\n    this.publish(topic, payload, false, 0).catch((e) => { console.error('CiButtonController: ERROR:', e) })\r\n  }\r\n}\r\n\r\nexport const ciZ2Mstatus1Controller = new CiZ2Mstatus1Controller()\r\n"]}]}