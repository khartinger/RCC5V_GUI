{"remainingRequest":"G:\\work3\\vue\\haus3\\node_modules\\ts-loader\\index.js??ref--13-1!G:\\work3\\vue\\haus3\\src\\controller\\CiButton2Controller.ts","dependencies":[{"path":"G:\\work3\\vue\\haus3\\src\\controller\\CiButton2Controller.ts","mtime":1676315855997},{"path":"G:\\work3\\vue\\haus3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus3\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSAidHNsaWIiOw0KLy8gX19fX19fQ2lCdXR0b24yQ29udHJvbGxlci50c19fX19fX19fX19fX19fX19fX2toYXJ0aW5nZXJfX19fXw0KLy8gMjAyMy0wMS0yODogbmV3DQppbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7DQppbXBvcnQgeyBDaUJhc2VDb250cm9sbGVyIH0gZnJvbSAnLi9DaUJhc2VDb250cm9sbGVyJzsNCnZhciBDaUJ1dHRvbjJDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgew0KICAgIF9fZXh0ZW5kcyhDaUJ1dHRvbjJDb250cm9sbGVyLCBfc3VwZXIpOw0KICAgIGZ1bmN0aW9uIENpQnV0dG9uMkNvbnRyb2xsZXIoKSB7DQogICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOw0KICAgICAgICBfdGhpcy5idXR0b25zMiA9IHJlYWN0aXZlKFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ2JlMWFyQScsDQogICAgICAgICAgICAgICAgbmFtZTogJ0EnLA0KICAgICAgICAgICAgICAgIGlCdXR0b24yU3RhdGU6IC05LA0KICAgICAgICAgICAgICAgIHR5cGU6ICdFMTc0MycsDQogICAgICAgICAgICAgICAgYmF0dGVyeTogJy0nLA0KICAgICAgICAgICAgICAgIHRleHRVcHBlcjogJzEgT04nLA0KICAgICAgICAgICAgICAgIHRleHRMb3dlcjogJzIgT0ZGJywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ3piL2gvc2NoYWx0ZXIvZTE3NDNhIHpiL2gvZG9zZS9lMTYwM2EnLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnemIvaC9zY2hhbHRlci9lMTc0M2EnLA0KICAgICAgICAgICAgICAgIHB1YlBheWxvYWQ6ICd7ImFjdGlvbiI6ICJvbiIsICJiYXR0ZXJ5IjogIj8ifScsDQogICAgICAgICAgICAgICAgcHViVG9waWNPZmY6ICd6Yi9oL3NjaGFsdGVyL2UxNzQzYScsDQogICAgICAgICAgICAgICAgcHViUGF5bG9hZE9mZjogJ3siYWN0aW9uIjogIm9mZiIsICJiYXR0ZXJ5IjogIj8ifScsDQogICAgICAgICAgICAgICAgc29ja2V0VG9waWM6ICd6Yi9oL2Rvc2UvZTE2MDNhL3NldCcsDQogICAgICAgICAgICAgICAgc29ja2V0UGF5bG9hZE9uOiAneyJzdGF0ZSI6ICJPTiJ9JywNCiAgICAgICAgICAgICAgICBzb2NrZXRQYXlsb2FkT2ZmOiAneyJzdGF0ZSI6ICJPRkYifScNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWQ6ICdiZTFhckInLA0KICAgICAgICAgICAgICAgIG5hbWU6ICdCJywNCiAgICAgICAgICAgICAgICBpQnV0dG9uMlN0YXRlOiAtOSwNCiAgICAgICAgICAgICAgICB0eXBlOiAnRTE3NDMnLA0KICAgICAgICAgICAgICAgIGJhdHRlcnk6ICctJywNCiAgICAgICAgICAgICAgICB0ZXh0VXBwZXI6ICcxIE9OJywNCiAgICAgICAgICAgICAgICB0ZXh0TG93ZXI6ICcwIE9GRicsDQogICAgICAgICAgICAgICAgc3ViVG9waWM6ICd6Yi9oL3NjaGFsdGVyL2UxNzQzYiB6Yi9oL2Rvc2UvZTE2MDNiJywNCiAgICAgICAgICAgICAgICBwdWJUb3BpYzogJ3piL2gvc2NoYWx0ZXIvZTE3NDNiJywNCiAgICAgICAgICAgICAgICBwdWJQYXlsb2FkOiAneyJhY3Rpb24iOiAib24iLCAiYmF0dGVyeSI6ICI/In0nLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljT2ZmOiAnemIvaC9zY2hhbHRlci9lMTc0M2InLA0KICAgICAgICAgICAgICAgIHB1YlBheWxvYWRPZmY6ICd7ImFjdGlvbiI6ICJvZmYiLCAiYmF0dGVyeSI6ICI/In0nLA0KICAgICAgICAgICAgICAgIHNvY2tldFRvcGljOiAnemIvaC9kb3NlL2UxNjAzYi9zZXQnLA0KICAgICAgICAgICAgICAgIHNvY2tldFBheWxvYWRPbjogJ3sic3RhdGUiOiAiT04ifScsDQogICAgICAgICAgICAgICAgc29ja2V0UGF5bG9hZE9mZjogJ3sic3RhdGUiOiAiT0ZGIn0nDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAnYmUxYXJDJywNCiAgICAgICAgICAgICAgICBuYW1lOiAnQycsDQogICAgICAgICAgICAgICAgaUJ1dHRvbjJTdGF0ZTogLTksDQogICAgICAgICAgICAgICAgdHlwZTogJ0UxNzQzJywNCiAgICAgICAgICAgICAgICBiYXR0ZXJ5OiAnLScsDQogICAgICAgICAgICAgICAgdGV4dFVwcGVyOiAnMSBPTicsDQogICAgICAgICAgICAgICAgdGV4dExvd2VyOiAnMCBPRkYnLA0KICAgICAgICAgICAgICAgIHN1YlRvcGljOiAnemIvaC9zY2hhbHRlci9lMTc0M2MgemIvaC9kb3NlL2UxNjAzYycsDQogICAgICAgICAgICAgICAgcHViVG9waWM6ICd6Yi9oL3NjaGFsdGVyL2UxNzQzYycsDQogICAgICAgICAgICAgICAgcHViUGF5bG9hZDogJ3siYWN0aW9uIjogIm9uIiwgImJhdHRlcnkiOiAiPyJ9JywNCiAgICAgICAgICAgICAgICBwdWJUb3BpY09mZjogJ3piL2gvc2NoYWx0ZXIvZTE3NDNjJywNCiAgICAgICAgICAgICAgICBwdWJQYXlsb2FkT2ZmOiAneyJhY3Rpb24iOiAib2ZmIiwgImJhdHRlcnkiOiAiPyJ9JywNCiAgICAgICAgICAgICAgICBzb2NrZXRUb3BpYzogJ3piL2gvZG9zZS9lMTYwM2Mvc2V0JywNCiAgICAgICAgICAgICAgICBzb2NrZXRQYXlsb2FkT246ICd7InN0YXRlIjogIk9OIn0nLA0KICAgICAgICAgICAgICAgIHNvY2tldFBheWxvYWRPZmY6ICd7InN0YXRlIjogIk9GRiJ9Jw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLyoNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgaWQ6ICdidXR0b24xJywNCiAgICAgICAgICAgICAgbmFtZTogJ0J1dHRvbjJfMScsDQogICAgICAgICAgICAgIGlCdXR0b25TdGF0ZTogLTk5LA0KICAgICAgICAgICAgICAvLyB0ZXh0VXBwZXI6ICdPTicsDQogICAgICAgICAgICAgIC8vIHRleHRMb3dlcjogJ09GRicsDQogICAgICAgICAgICAgIHRleHRGb290ZXI6ICctLUZvb3RlcjEtLScsDQogICAgICAgICAgICAgIHN1YlRvcGljOiAnY2kvbGFtcC8xL3JldCBjaS9sYW1wLzIvcmV0JywNCiAgICAgICAgICAgICAgcHViVG9waWM6ICdjaS9sYW1wLzEvc2V0L2xhbXAgY2kvbGFtcC8yL3NldC9sYW1wJywNCiAgICAgICAgICAgICAgcHViUGF5bG9hZDogJzEnLA0KICAgICAgICAgICAgICBwdWJQYXlsb2FkTG93ZXI6ICcwJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgaWQ6ICdidXR0b24yJywNCiAgICAgICAgICAgICAgbmFtZTogJ0J1dHRvbjJfMicsDQogICAgICAgICAgICAgIGlCdXR0b25TdGF0ZTogLTk5LA0KICAgICAgICAgICAgICB0ZXh0VXBwZXI6ICdPTicsDQogICAgICAgICAgICAgIHRleHRMb3dlcjogJ09GRicsDQogICAgICAgICAgICAgIHRleHRGb290ZXI6ICc9PUZvb3RlcjI9PScsDQogICAgICAgICAgICAgIHN1YlRvcGljOiAnY2kvbGFtcC8yL3NldC9sYW1wJywNCiAgICAgICAgICAgICAgcHViVG9waWM6ICdjaS9sYW1wLzEvc2V0L2xhbXAgY2kvbGFtcC8yL3NldC9sYW1wJywNCiAgICAgICAgICAgICAgcHViUGF5bG9hZDogJ09OJywNCiAgICAgICAgICAgICAgcHViUGF5bG9hZExvd2VyOiAnT0ZGJw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgKi8NCiAgICAgICAgXSk7DQogICAgICAgIHJldHVybiBfdGhpczsNCiAgICB9DQogICAgQ2lCdXR0b24yQ29udHJvbGxlci5wcm90b3R5cGUub25NZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsNCiAgICAgICAgdmFyIF90aGlzID0gdGhpczsNCiAgICAgICAgdGhpcy5idXR0b25zMi5mb3JFYWNoKGZ1bmN0aW9uIChidXR0b24yKSB7DQogICAgICAgICAgICB2YXIgYVN1YlRvcGljID0gYnV0dG9uMi5zdWJUb3BpYy5zcGxpdCgnICcpOw0KICAgICAgICAgICAgaWYgKGFTdWJUb3BpYy5pbmNsdWRlcyhtZXNzYWdlLnRvcGljKSkgew0KICAgICAgICAgICAgICAgIC8vIC0tLWJ1dHRvbjIgZm91bmQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgICAgICAgICAgaWYgKGJ1dHRvbjIudHlwZSA9PT0gJ0QxJykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoKG1lc3NhZ2UucGF5bG9hZCA9PT0gJzEnKSB8fCAobWVzc2FnZS5wYXlsb2FkID09PSAnb24nKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjIuaUJ1dHRvbjJTdGF0ZSA9IC0xOw0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgobWVzc2FnZS5wYXlsb2FkID09PSAnMCcpIHx8IChtZXNzYWdlLnBheWxvYWQgPT09ICdvZmYnKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24yLmlCdXR0b24yU3RhdGUgPSAtMjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjIuaUJ1dHRvbjJTdGF0ZSA9IC05Ow0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaUJ1dHRvbjJDb250cm9sbGVyOm9uTWVzc2FnZTogbWVzc2FnZS5wYXlsb2FkPScsIG1lc3NhZ2UucGF5bG9hZCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGJ1dHRvbjIudHlwZSA9PT0gJ0UxNzQzJykgew0KICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50b3BpYy5pbmNsdWRlcygnZTE3NDMnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFQYXlsb2FkID0gSlNPTi5wYXJzZShtZXNzYWdlLnBheWxvYWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uMi5iYXR0ZXJ5ID0gIiIgKyBhUGF5bG9hZC5iYXR0ZXJ5Ow0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlQSA9ICIiICsgYVBheWxvYWQuYWN0aW9uOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uMi5pQnV0dG9uMlN0YXRlID0gLTk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVBID09PSAnb24nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uMi5pQnV0dG9uMlN0YXRlID0gLTE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChidXR0b24yID09PSBudWxsIHx8IGJ1dHRvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1dHRvbjIuc29ja2V0VG9waWMpICYmIChidXR0b24yID09PSBudWxsIHx8IGJ1dHRvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1dHRvbjIuc29ja2V0UGF5bG9hZE9uKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wdWJsaXNoQ2koYnV0dG9uMi5zb2NrZXRUb3BpYywgYnV0dG9uMi5zb2NrZXRQYXlsb2FkT24pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZUEgPT09ICdvZmYnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uMi5pQnV0dG9uMlN0YXRlID0gLTI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChidXR0b24yID09PSBudWxsIHx8IGJ1dHRvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1dHRvbjIuc29ja2V0VG9waWMpICYmIChidXR0b24yID09PSBudWxsIHx8IGJ1dHRvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJ1dHRvbjIuc29ja2V0UGF5bG9hZE9mZikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucHVibGlzaENpKGJ1dHRvbjIuc29ja2V0VG9waWMsIGJ1dHRvbjIuc29ja2V0UGF5bG9hZE9mZik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRvcGljLmluY2x1ZGVzKCdlMTYwMycpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYVBheWxvYWQgPSBKU09OLnBhcnNlKG1lc3NhZ2UucGF5bG9hZCk7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVTID0gIiIgKyBhUGF5bG9hZC5zdGF0ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZVMgPT09ICdPTicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uMi5pQnV0dG9uMlN0YXRlID0gLTE7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVTID09PSAnT0ZGJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24yLmlCdXR0b24yU3RhdGUgPSAtMjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvKg0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaUJ1dHRvbjFDb250cm9sbGVyLm9uTWVzc2FnZSBwYXlsb2FkPScsIG1lc3NhZ2UucGF5bG9hZCkNCiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50b3BpYy5pbmNsdWRlcygnY2kvbGFtcC8yL3NldC9sYW1wJykpIHsNCiAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBheWxvYWQgPT09ICcwJykgYnV0dG9uMi5pQnV0dG9uMlN0YXRlID0gLTINCiAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnBheWxvYWQgPT09ICcxJykgYnV0dG9uMi5pQnV0dG9uMlN0YXRlID0gLTENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudG9waWMuaW5jbHVkZXMoJ3ZvbHRhZ2UnKSkgew0KICAgICAgICAgICAgICAgICAgYnV0dG9uMi5iYXR0ZXJ5ID0gYCR7bWVzc2FnZS5wYXlsb2FkfWAgKyAnJScNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgKi8NCiAgICAgICAgICAgICAgICAvLyAtLS1FTkQgYnV0dG9uMiBmb3VuZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9Ow0KICAgIENpQnV0dG9uMkNvbnRyb2xsZXIucHJvdG90eXBlLnB1Ymxpc2hDaSA9IGZ1bmN0aW9uICh0b3BpYywgcGF5bG9hZCkgew0KICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2lCdXR0b24xQ29udHJvbGxlcjpwdWJsaXNoQ2k6JywgJy10ICcgKyB0b3BpYyArICcgLW0gJyArIHBheWxvYWQpDQogICAgICAgIHRoaXMucHVibGlzaCh0b3BpYywgcGF5bG9hZCwgZmFsc2UsIDApLmNhdGNoKGZ1bmN0aW9uIChlKSB7IGNvbnNvbGUuZXJyb3IoJ0NpQnV0dG9uQ29udHJvbGxlcjogRVJST1I6JywgZSk7IH0pOw0KICAgIH07DQogICAgcmV0dXJuIENpQnV0dG9uMkNvbnRyb2xsZXI7DQp9KENpQmFzZUNvbnRyb2xsZXIpKTsNCmV4cG9ydCB7IENpQnV0dG9uMkNvbnRyb2xsZXIgfTsNCmV4cG9ydCB2YXIgY2lCdXR0b24yQ29udHJvbGxlciA9IG5ldyBDaUJ1dHRvbjJDb250cm9sbGVyKCk7DQo="},{"version":3,"file":"G:\\work3\\vue\\haus3\\src\\controller\\CiButton2Controller.ts","sourceRoot":"","sources":["G:\\work3\\vue\\haus3\\src\\controller\\CiButton2Controller.ts"],"names":[],"mappings":"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","sourcesContent":["// ______CiButton2Controller.ts__________________khartinger_____\r\n// 2023-01-28: new\r\nimport { reactive } from 'vue'\r\nimport { Message } from '@/services/CiMqttClient'\r\nimport { CiBaseController, IBase } from './CiBaseController'\r\n\r\nexport interface Button2 extends IBase {\r\n  iButton2State: number;\r\n  type?: string;\r\n  battery?: string;\r\n  textUpper?: string;\r\n  textLower?: string;\r\n  textFooter?: string;\r\n  pubPayloadLower?: string;\r\n  // Note: default pubPayload means pubPayloadUpper!\r\n  // ---------only for switch IKEA socket-----------------------\r\n  socketTopic?: string;\r\n  socketPayloadOn?: string;\r\n  socketPayloadOff?: string;\r\n}\r\n\r\nexport class CiButton2Controller extends CiBaseController {\r\n  public buttons2: Array<Button2> = reactive(\r\n    [\r\n      {\r\n        id: 'be1arA',\r\n        name: 'A',\r\n        iButton2State: -9,\r\n        type: 'E1743',\r\n        battery: '-',\r\n        textUpper: '1 ON',\r\n        textLower: '2 OFF',\r\n        subTopic: 'zb/h/schalter/e1743a zb/h/dose/e1603a',\r\n        pubTopic: 'zb/h/schalter/e1743a',\r\n        pubPayload: '{\"action\": \"on\", \"battery\": \"?\"}',\r\n        pubTopicOff: 'zb/h/schalter/e1743a',\r\n        pubPayloadOff: '{\"action\": \"off\", \"battery\": \"?\"}',\r\n\r\n        socketTopic: 'zb/h/dose/e1603a/set',\r\n        socketPayloadOn: '{\"state\": \"ON\"}',\r\n        socketPayloadOff: '{\"state\": \"OFF\"}'\r\n      },\r\n      {\r\n        id: 'be1arB',\r\n        name: 'B',\r\n        iButton2State: -9,\r\n        type: 'E1743',\r\n        battery: '-',\r\n        textUpper: '1 ON',\r\n        textLower: '0 OFF',\r\n        subTopic: 'zb/h/schalter/e1743b zb/h/dose/e1603b',\r\n        pubTopic: 'zb/h/schalter/e1743b',\r\n        pubPayload: '{\"action\": \"on\", \"battery\": \"?\"}',\r\n        pubTopicOff: 'zb/h/schalter/e1743b',\r\n        pubPayloadOff: '{\"action\": \"off\", \"battery\": \"?\"}',\r\n\r\n        socketTopic: 'zb/h/dose/e1603b/set',\r\n        socketPayloadOn: '{\"state\": \"ON\"}',\r\n        socketPayloadOff: '{\"state\": \"OFF\"}'\r\n      },\r\n      {\r\n        id: 'be1arC',\r\n        name: 'C',\r\n        iButton2State: -9,\r\n        type: 'E1743',\r\n        battery: '-',\r\n        textUpper: '1 ON',\r\n        textLower: '0 OFF',\r\n        subTopic: 'zb/h/schalter/e1743c zb/h/dose/e1603c',\r\n        pubTopic: 'zb/h/schalter/e1743c',\r\n        pubPayload: '{\"action\": \"on\", \"battery\": \"?\"}',\r\n        pubTopicOff: 'zb/h/schalter/e1743c',\r\n        pubPayloadOff: '{\"action\": \"off\", \"battery\": \"?\"}',\r\n\r\n        socketTopic: 'zb/h/dose/e1603c/set',\r\n        socketPayloadOn: '{\"state\": \"ON\"}',\r\n        socketPayloadOff: '{\"state\": \"OFF\"}'\r\n      }\r\n      /*\r\n      {\r\n        id: 'button1',\r\n        name: 'Button2_1',\r\n        iButtonState: -99,\r\n        // textUpper: 'ON',\r\n        // textLower: 'OFF',\r\n        textFooter: '--Footer1--',\r\n        subTopic: 'ci/lamp/1/ret ci/lamp/2/ret',\r\n        pubTopic: 'ci/lamp/1/set/lamp ci/lamp/2/set/lamp',\r\n        pubPayload: '1',\r\n        pubPayloadLower: '0'\r\n      },\r\n      {\r\n        id: 'button2',\r\n        name: 'Button2_2',\r\n        iButtonState: -99,\r\n        textUpper: 'ON',\r\n        textLower: 'OFF',\r\n        textFooter: '==Footer2==',\r\n        subTopic: 'ci/lamp/2/set/lamp',\r\n        pubTopic: 'ci/lamp/1/set/lamp ci/lamp/2/set/lamp',\r\n        pubPayload: 'ON',\r\n        pubPayloadLower: 'OFF'\r\n      }\r\n      */\r\n    ]\r\n  );\r\n\r\n  public onMessage (message: Message): void {\r\n    this.buttons2.forEach(button2 => {\r\n      const aSubTopic = button2.subTopic.split(' ')\r\n      if (aSubTopic.includes(message.topic)) {\r\n        // ---button2 found ------------------------------------\r\n        if (button2.type === 'D1') {\r\n          if ((message.payload === '1') || (message.payload === 'on')) button2.iButton2State = -1\r\n          else {\r\n            if ((message.payload === '0') || (message.payload === 'off')) button2.iButton2State = -2\r\n            else { button2.iButton2State = -9 }\r\n          }\r\n        // console.log('CiButton2Controller:onMessage: message.payload=', message.payload)\r\n        }\r\n        if (button2.type === 'E1743') {\r\n          if (message.topic.includes('e1743')) {\r\n            const aPayload = JSON.parse(message.payload)\r\n            button2.battery = `${aPayload.battery}`\r\n            const stateA = `${aPayload.action}`\r\n            button2.iButton2State = -9\r\n            if (stateA === 'on') {\r\n              button2.iButton2State = -1\r\n              if (button2?.socketTopic && button2?.socketPayloadOn) {\r\n                this.publishCi(button2.socketTopic, button2.socketPayloadOn)\r\n              }\r\n            }\r\n            if (stateA === 'off') {\r\n              button2.iButton2State = -2\r\n              if (button2?.socketTopic && button2?.socketPayloadOff) {\r\n                this.publishCi(button2.socketTopic, button2.socketPayloadOff)\r\n              }\r\n            }\r\n          }\r\n          if (message.topic.includes('e1603')) {\r\n            const aPayload = JSON.parse(message.payload)\r\n            const stateS = `${aPayload.state}`\r\n            if (stateS === 'ON') button2.iButton2State = -1\r\n            if (stateS === 'OFF') button2.iButton2State = -2\r\n          }\r\n        }\r\n        /*\r\n        // console.log('CiButton1Controller.onMessage payload=', message.payload)\r\n        if (message.topic.includes('ci/lamp/2/set/lamp')) {\r\n          if (message.payload === '0') button2.iButton2State = -2\r\n          if (message.payload === '1') button2.iButton2State = -1\r\n        }\r\n        if (message.topic.includes('voltage')) {\r\n          button2.battery = `${message.payload}` + '%'\r\n        }\r\n        */\r\n        // ---END button2 found --------------------------------\r\n      }\r\n    })\r\n  }\r\n\r\n  public publishCi (topic: string, payload: string): void {\r\n    // console.log('CiButton1Controller:publishCi:', '-t ' + topic + ' -m ' + payload)\r\n    this.publish(topic, payload, false, 0).catch((e) => { console.error('CiButtonController: ERROR:', e) })\r\n  }\r\n}\r\n\r\nexport const ciButton2Controller = new CiButton2Controller()\r\n"]}]}