{"remainingRequest":"G:\\work3\\vue\\haus2\\node_modules\\ts-loader\\index.js??ref--13-1!G:\\work3\\vue\\haus2\\src\\controller\\CiWeatherController.ts","dependencies":[{"path":"G:\\work3\\vue\\haus2\\src\\controller\\CiWeatherController.ts","mtime":1641049501419},{"path":"G:\\work3\\vue\\haus2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSAidHNsaWIiOw0KLy8gX19fX19fQ2lXZWF0aGVyQ29udHJvbGxlci50c19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tICd2dWUnOw0KaW1wb3J0IHsgQ2lCYXNlQ29udHJvbGxlciB9IGZyb20gJy4vQ2lCYXNlQ29udHJvbGxlcic7DQp2YXIgQ2lXZWF0aGVyQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsNCiAgICBfX2V4dGVuZHMoQ2lXZWF0aGVyQ29udHJvbGxlciwgX3N1cGVyKTsNCiAgICBmdW5jdGlvbiBDaVdlYXRoZXJDb250cm9sbGVyKCkgew0KICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsNCiAgICAgICAgX3RoaXMud2VhdGhlcnMgPSByZWFjdGl2ZShbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWQ6ICd3ZXR0ZXIxJywNCiAgICAgICAgICAgICAgICB0eXBlOiAnemInLA0KICAgICAgICAgICAgICAgIG5hbWU6ICdXZXR0ZXIxX3piJywNCiAgICAgICAgICAgICAgICBpV2VhdGhlclN0YXRlOiAtMSwNCiAgICAgICAgICAgICAgICBiYXR0ZXJ5OiAnPycsDQogICAgICAgICAgICAgICAgc3ViVG9waWM6ICd6Yi9oL3dldHRlci8tMScsDQogICAgICAgICAgICAgICAgcHViVG9waWM6ICcnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAnd2V0dGVyMicsDQogICAgICAgICAgICAgICAgdHlwZTogJ3piJywNCiAgICAgICAgICAgICAgICBuYW1lOiAnV2V0dGVyMl96YicsDQogICAgICAgICAgICAgICAgaVdlYXRoZXJTdGF0ZTogLTEsDQogICAgICAgICAgICAgICAgYmF0dGVyeTogJz8nLA0KICAgICAgICAgICAgICAgIHN1YlRvcGljOiAnemIvaC93ZXR0ZXIvLTInLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ3dldHRlcjMnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICd6YicsDQogICAgICAgICAgICAgICAgbmFtZTogJ1dldHRlcjNfemInLA0KICAgICAgICAgICAgICAgIGlXZWF0aGVyU3RhdGU6IC0xLA0KICAgICAgICAgICAgICAgIGJhdHRlcnk6ICc/JywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ3piL2gvd2V0dGVyLy0zJywNCiAgICAgICAgICAgICAgICBwdWJUb3BpYzogJycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWQ6ICd3ZXR0ZXI0JywNCiAgICAgICAgICAgICAgICB0eXBlOiAnemInLA0KICAgICAgICAgICAgICAgIG5hbWU6ICdXZXR0ZXI0X3piJywNCiAgICAgICAgICAgICAgICBpV2VhdGhlclN0YXRlOiAtMSwNCiAgICAgICAgICAgICAgICBiYXR0ZXJ5OiAnPycsDQogICAgICAgICAgICAgICAgc3ViVG9waWM6ICd6Yi9oL3dldHRlci8tNCcsDQogICAgICAgICAgICAgICAgcHViVG9waWM6ICcnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAnd2V0dGVyNScsDQogICAgICAgICAgICAgICAgdHlwZTogJ3piJywNCiAgICAgICAgICAgICAgICBuYW1lOiAnV2V0dGVyNV96YicsDQogICAgICAgICAgICAgICAgaVdlYXRoZXJTdGF0ZTogLTEsDQogICAgICAgICAgICAgICAgYmF0dGVyeTogJz8nLA0KICAgICAgICAgICAgICAgIHN1YlRvcGljOiAnemIvaC93ZXR0ZXIvLTUnLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ3dldHRlcjYnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICd6YicsDQogICAgICAgICAgICAgICAgbmFtZTogJ1dldHRlcjZfemInLA0KICAgICAgICAgICAgICAgIGlXZWF0aGVyU3RhdGU6IC0xLA0KICAgICAgICAgICAgICAgIGJhdHRlcnk6ICc/JywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ3piL2gvd2V0dGVyLy02JywNCiAgICAgICAgICAgICAgICBwdWJUb3BpYzogJycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWQ6ICd3ZXR0ZXI3JywNCiAgICAgICAgICAgICAgICB0eXBlOiAnemInLA0KICAgICAgICAgICAgICAgIG5hbWU6ICdXZXR0ZXI3X3piJywNCiAgICAgICAgICAgICAgICBpV2VhdGhlclN0YXRlOiAtMSwNCiAgICAgICAgICAgICAgICBiYXR0ZXJ5OiAnPycsDQogICAgICAgICAgICAgICAgc3ViVG9waWM6ICd6Yi9oL3dldHRlci8tNycsDQogICAgICAgICAgICAgICAgcHViVG9waWM6ICcnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAnd2V0dGVyOCcsDQogICAgICAgICAgICAgICAgdHlwZTogJ3piJywNCiAgICAgICAgICAgICAgICBuYW1lOiAnV2V0dGVyOF96YicsDQogICAgICAgICAgICAgICAgaVdlYXRoZXJTdGF0ZTogLTEsDQogICAgICAgICAgICAgICAgYmF0dGVyeTogJz8nLA0KICAgICAgICAgICAgICAgIHN1YlRvcGljOiAnemIvaC93ZXR0ZXIvLTgnLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ3dlYXRoZXJodXRpbicsDQogICAgICAgICAgICAgICAgdHlwZTogJ2h1dF9pbicsDQogICAgICAgICAgICAgICAgbmFtZTogJ0h1dF9kMWknLA0KICAgICAgICAgICAgICAgIGlXZWF0aGVyU3RhdGU6IC0xLA0KICAgICAgICAgICAgICAgIHN1YlRvcGljOiAnZTMvaHUvcmV0L3N0YXR1cyBkMy9odS9yZXQvYWxsZXMnLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ3dlYXRoZXJodXRvdXQnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdodXRfb3V0JywNCiAgICAgICAgICAgICAgICBuYW1lOiAnSHV0X2QxbycsDQogICAgICAgICAgICAgICAgaVdlYXRoZXJTdGF0ZTogLTEsDQogICAgICAgICAgICAgICAgc3ViVG9waWM6ICdlMy9odS9yZXQvc3RhdHVzIGQzL2h1L3JldC9hbGxlcycsDQogICAgICAgICAgICAgICAgcHViVG9waWM6ICcnDQogICAgICAgICAgICB9DQogICAgICAgIF0pOw0KICAgICAgICByZXR1cm4gX3RoaXM7DQogICAgfQ0KICAgIC8vIC0tLS0tLS0tLU1lc3NhZ2UgZm9yIHRoaXMgY2kgKGNvbnRyb2wvaW5kaWNhdG9yKT8tLS0tLS0tLS0tDQogICAgQ2lXZWF0aGVyQ29udHJvbGxlci5wcm90b3R5cGUub25NZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHsNCiAgICAgICAgdGhpcy53ZWF0aGVycy5mb3JFYWNoKGZ1bmN0aW9uICh3ZWF0aGVyKSB7DQogICAgICAgICAgICB2YXIgYVN1YlRvcGljID0gd2VhdGhlci5zdWJUb3BpYy5zcGxpdCgnICcpOw0KICAgICAgICAgICAgaWYgKGFTdWJUb3BpYy5pbmNsdWRlcyhtZXNzYWdlLnRvcGljKSkgew0KICAgICAgICAgICAgICAgIC8vIC0tLXdlYXRoZXIgdG9waWMgZm91bmQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgICAgICAgICAgd2VhdGhlci5pV2VhdGhlclN0YXRlID0gMTsNCiAgICAgICAgICAgICAgICBpZiAod2VhdGhlci50eXBlID09PSAnemInKSB7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYVBheWxvYWQgPSBKU09OLnBhcnNlKG1lc3NhZ2UucGF5bG9hZCk7DQogICAgICAgICAgICAgICAgICAgICAgICB3ZWF0aGVyLnRlbXBlcmF0dXJlID0gYVBheWxvYWQudGVtcGVyYXR1cmUudG9GaXhlZCgxKSArICfCsEMnOw0KICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5odW1pZGl0eSA9IGFQYXlsb2FkLmh1bWlkaXR5LnRvRml4ZWQoMSkgKyAnJSc7DQogICAgICAgICAgICAgICAgICAgICAgICB3ZWF0aGVyLmJhdHRlcnkgPSBhUGF5bG9hZC5iYXR0ZXJ5ICsgJyUnOw0KICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5pV2VhdGhlclN0YXRlID0gMDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAod2VhdGhlci50eXBlID09PSAnaHV0X2luJykgew0KICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFQYXlsb2FkID0gSlNPTi5wYXJzZShtZXNzYWdlLnBheWxvYWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci50ZW1wZXJhdHVyZSA9IGFQYXlsb2FkLlRpLnRvRml4ZWQoMSkgKyAnwrBDJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdlYXRoZXIuaHVtaWRpdHkgPSBhUGF5bG9hZC5IaS50b0ZpeGVkKDEpICsgJyUnOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2VhdGhlci5wcmVzc3VyZSA9IGFQYXlsb2FkLnBpLnRvRml4ZWQoMCkgKyAncGEnDQogICAgICAgICAgICAgICAgICAgICAgICB3ZWF0aGVyLmJyaWdodG5lc3MgPSBhUGF5bG9hZC5MaS50b0ZpeGVkKDApICsgJ2x4JzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdlYXRoZXIudGV4dDUgPSBhUGF5bG9hZC5waS50b0ZpeGVkKDApICsgJ3BhJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlYXRoZXIuYmF0dGVyeSA9IGFQYXlsb2FkLmJhdHRlcnkgKyAnJScNCiAgICAgICAgICAgICAgICAgICAgICAgIHdlYXRoZXIuaVdlYXRoZXJTdGF0ZSA9IDA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7IH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHdlYXRoZXIudHlwZSA9PT0gJ2h1dF9vdXQnKSB7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYVBheWxvYWQgPSBKU09OLnBhcnNlKG1lc3NhZ2UucGF5bG9hZCk7DQogICAgICAgICAgICAgICAgICAgICAgICB3ZWF0aGVyLnRlbXBlcmF0dXJlID0gYVBheWxvYWQuVGEudG9GaXhlZCgxKSArICfCsEMnOw0KICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5odW1pZGl0eSA9IGFQYXlsb2FkLkhhLnRvRml4ZWQoMSkgKyAnJSc7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZWF0aGVyLnByZXNzdXJlID0gYVBheWxvYWQucGEudG9GaXhlZCgwKSArICdwYScNCiAgICAgICAgICAgICAgICAgICAgICAgIHdlYXRoZXIuYnJpZ2h0bmVzcyA9IGFQYXlsb2FkLkxhLnRvRml4ZWQoMCkgKyAnbHgnOw0KICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci50ZXh0NSA9IGFQYXlsb2FkLnBhLnRvRml4ZWQoMCkgKyAncGEnOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2VhdGhlci5iYXR0ZXJ5ID0gYVBheWxvYWQuYmF0dGVyeSArICclJw0KICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5pV2VhdGhlclN0YXRlID0gMDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gLy8gRU5EIHdlYXRoZXIgdG9waWMgZm91bmQNCiAgICAgICAgfSk7DQogICAgfTsNCiAgICBDaVdlYXRoZXJDb250cm9sbGVyLnByb3RvdHlwZS5wdWJsaXNoQ2kgPSBmdW5jdGlvbiAodG9waWMsIHBheWxvYWQpIHsNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ3B1Ymxpc2g6JywgJy10ICcgKyB0b3BpYyArICcgLW0gJyArIHBheWxvYWQpDQogICAgICAgIHRoaXMucHVibGlzaCh0b3BpYywgcGF5bG9hZCwgZmFsc2UsIDApOw0KICAgIH07DQogICAgcmV0dXJuIENpV2VhdGhlckNvbnRyb2xsZXI7DQp9KENpQmFzZUNvbnRyb2xsZXIpKTsNCmV4cG9ydCB7IENpV2VhdGhlckNvbnRyb2xsZXIgfTsNCmV4cG9ydCB2YXIgY2lXZWF0aGVyQ29udHJvbGxlciA9IG5ldyBDaVdlYXRoZXJDb250cm9sbGVyKCk7DQo="},{"version":3,"file":"G:\\work3\\vue\\haus2\\src\\controller\\CiWeatherController.ts","sourceRoot":"","sources":["G:\\work3\\vue\\haus2\\src\\controller\\CiWeatherController.ts"],"names":[],"mappings":"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","sourcesContent":["// ______CiWeatherController.ts_________________________________\r\nimport { reactive } from 'vue'\r\nimport { Message } from '@/services/CiMqttClient'\r\nimport { CiBaseController, IBase } from './CiBaseController'\r\n\r\nexport interface Weather extends IBase {\r\n  type: string;\r\n  iWeatherState: number;\r\n  temperature?: string;\r\n  humidity?: string;\r\n  pressure?: string;\r\n  brightness?: string;\r\n  battery?: string;\r\n  text5?: string;\r\n}\r\n\r\nexport class CiWeatherController extends CiBaseController {\r\n  public weathers: Array<Weather> = reactive(\r\n    [\r\n      { // weather 1\r\n        id: 'wetter1',\r\n        type: 'zb',\r\n        name: 'Wetter1_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        subTopic: 'zb/h/wetter/-1',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 2\r\n        id: 'wetter2',\r\n        type: 'zb',\r\n        name: 'Wetter2_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        subTopic: 'zb/h/wetter/-2',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 3\r\n        id: 'wetter3',\r\n        type: 'zb',\r\n        name: 'Wetter3_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        subTopic: 'zb/h/wetter/-3',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 4\r\n        id: 'wetter4',\r\n        type: 'zb',\r\n        name: 'Wetter4_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        subTopic: 'zb/h/wetter/-4',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 5\r\n        id: 'wetter5',\r\n        type: 'zb',\r\n        name: 'Wetter5_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        subTopic: 'zb/h/wetter/-5',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 6\r\n        id: 'wetter6',\r\n        type: 'zb',\r\n        name: 'Wetter6_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        subTopic: 'zb/h/wetter/-6',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 7\r\n        id: 'wetter7',\r\n        type: 'zb',\r\n        name: 'Wetter7_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        subTopic: 'zb/h/wetter/-7',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 8\r\n        id: 'wetter8',\r\n        type: 'zb',\r\n        name: 'Wetter8_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        subTopic: 'zb/h/wetter/-8',\r\n        pubTopic: ''\r\n      },\r\n      { // hut: weather indoor\r\n        id: 'weatherhutin',\r\n        type: 'hut_in',\r\n        name: 'Hut_d1i',\r\n        iWeatherState: -1,\r\n        subTopic: 'e3/hu/ret/status d3/hu/ret/alles',\r\n        pubTopic: ''\r\n      },\r\n      { // hut: weather outdoor\r\n        id: 'weatherhutout',\r\n        type: 'hut_out',\r\n        name: 'Hut_d1o',\r\n        iWeatherState: -1,\r\n        subTopic: 'e3/hu/ret/status d3/hu/ret/alles',\r\n        pubTopic: ''\r\n      }\r\n    ]\r\n  );\r\n\r\n  // ---------Message for this ci (control/indicator)?----------\r\n  public onMessage (message: Message): void {\r\n    this.weathers.forEach(weather => {\r\n      const aSubTopic = weather.subTopic.split(' ')\r\n      if (aSubTopic.includes(message.topic)) {\r\n        // ---weather topic found ------------------------------\r\n        weather.iWeatherState = 1\r\n        if (weather.type === 'zb') {\r\n          try {\r\n            const aPayload = JSON.parse(message.payload)\r\n            weather.temperature = aPayload.temperature.toFixed(1) + '°C'\r\n            weather.humidity = aPayload.humidity.toFixed(1) + '%'\r\n            weather.battery = aPayload.battery + '%'\r\n            weather.iWeatherState = 0\r\n          } catch (error) { }\r\n        }\r\n        if (weather.type === 'hut_in') {\r\n          try {\r\n            const aPayload = JSON.parse(message.payload)\r\n            weather.temperature = aPayload.Ti.toFixed(1) + '°C'\r\n            weather.humidity = aPayload.Hi.toFixed(1) + '%'\r\n            // weather.pressure = aPayload.pi.toFixed(0) + 'pa'\r\n            weather.brightness = aPayload.Li.toFixed(0) + 'lx'\r\n            weather.text5 = aPayload.pi.toFixed(0) + 'pa'\r\n            // weather.battery = aPayload.battery + '%'\r\n            weather.iWeatherState = 0\r\n          } catch (error) { }\r\n        }\r\n        if (weather.type === 'hut_out') {\r\n          try {\r\n            const aPayload = JSON.parse(message.payload)\r\n            weather.temperature = aPayload.Ta.toFixed(1) + '°C'\r\n            weather.humidity = aPayload.Ha.toFixed(1) + '%'\r\n            // weather.pressure = aPayload.pa.toFixed(0) + 'pa'\r\n            weather.brightness = aPayload.La.toFixed(0) + 'lx'\r\n            weather.text5 = aPayload.pa.toFixed(0) + 'pa'\r\n            // weather.battery = aPayload.battery + '%'\r\n            weather.iWeatherState = 0\r\n          } catch (error) { }\r\n        }\r\n      } // END weather topic found\r\n    })\r\n  }\r\n\r\n  public publishCi (topic: string, payload: string): void {\r\n    // console.log('publish:', '-t ' + topic + ' -m ' + payload)\r\n    this.publish(topic, payload, false, 0)\r\n  }\r\n}\r\n\r\nexport const ciWeatherController = new CiWeatherController()\r\n"]}]}