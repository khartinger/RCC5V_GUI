{"remainingRequest":"G:\\work3\\vue\\haus2\\node_modules\\thread-loader\\dist\\cjs.js!G:\\work3\\vue\\haus2\\node_modules\\ts-loader\\index.js??ref--13-2!G:\\work3\\vue\\haus2\\src\\controller\\CiButton2Controller.ts","dependencies":[{"path":"G:\\work3\\vue\\haus2\\src\\controller\\CiButton2Controller.ts","mtime":1672656785280},{"path":"G:\\work3\\vue\\haus2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSAidHNsaWIiOw0KLy8gX19fX19fQ2lCdXR0b24yQ29udHJvbGxlci50c19fX19fX19fX19fX19fX19fX2toYXJ0aW5nZXJfX19fXw0KLy8gMjAyMi0wOS0xNDogYWRkIC5jYXRjaCgoZSkgLi4pIHRvIHRoaXMucHVibGlzaA0KLy8gMjAyMy0wMS0wMjogaW1wb3J0IHsgZ2VvMCB9IGNoYW5nZWQNCmltcG9ydCB7IHJlYWN0aXZlIH0gZnJvbSAndnVlJzsNCmltcG9ydCB7IENpQmFzZUNvbnRyb2xsZXIgfSBmcm9tICcuL0NpQmFzZUNvbnRyb2xsZXInOw0KdmFyIENpQnV0dG9uMkNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7DQogICAgX19leHRlbmRzKENpQnV0dG9uMkNvbnRyb2xsZXIsIF9zdXBlcik7DQogICAgZnVuY3Rpb24gQ2lCdXR0b24yQ29udHJvbGxlcigpIHsNCiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7DQogICAgICAgIF90aGlzLmJ1dHRvbjJzID0gcmVhY3RpdmUoWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAnYmUxYXJBJywNCiAgICAgICAgICAgICAgICBuYW1lOiAnQScsDQogICAgICAgICAgICAgICAgaUJ1dHRvbjJTdGF0ZTogLTksDQogICAgICAgICAgICAgICAgdHlwZTogJ0UxNzQzJywNCiAgICAgICAgICAgICAgICBiYXR0ZXJ5OiAnLScsDQogICAgICAgICAgICAgICAgdGV4dE9uOiAnMScsDQogICAgICAgICAgICAgICAgdGV4dE9mZjogJzAnLA0KICAgICAgICAgICAgICAgIHNoYXBlOiAncmVjdCcsDQogICAgICAgICAgICAgICAgLy8gY29sb3I6ICcjRTJCMDA3JywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ3piL2gvc2NoYWx0ZXIvZTE3NDNhIHpiL2gvZG9zZS9lMTYwM2EnLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnemIvaC9zY2hhbHRlci9lMTc0M2EnLA0KICAgICAgICAgICAgICAgIHB1YlBheWxvYWQ6ICd7ImFjdGlvbiI6ICJvbiIsICJiYXR0ZXJ5IjogIj8ifScsDQogICAgICAgICAgICAgICAgcHViVG9waWNPZmY6ICd6Yi9oL3NjaGFsdGVyL2UxNzQzYScsDQogICAgICAgICAgICAgICAgcHViUGF5bG9hZE9mZjogJ3siYWN0aW9uIjogIm9mZiIsICJiYXR0ZXJ5IjogIj8ifScsDQogICAgICAgICAgICAgICAgc29ja2V0VG9waWM6ICd6Yi9oL2Rvc2UvZTE2MDNhL3NldCcsDQogICAgICAgICAgICAgICAgc29ja2V0UGF5bG9hZE9uOiAneyJzdGF0ZSI6ICJPTiJ9JywNCiAgICAgICAgICAgICAgICBzb2NrZXRQYXlsb2FkT2ZmOiAneyJzdGF0ZSI6ICJPRkYifScNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWQ6ICdiZTFhckInLA0KICAgICAgICAgICAgICAgIG5hbWU6ICdCJywNCiAgICAgICAgICAgICAgICBpQnV0dG9uMlN0YXRlOiAtOSwNCiAgICAgICAgICAgICAgICB0eXBlOiAnRTE3NDMnLA0KICAgICAgICAgICAgICAgIGJhdHRlcnk6ICctJywNCiAgICAgICAgICAgICAgICB0ZXh0T246ICcxJywNCiAgICAgICAgICAgICAgICB0ZXh0T2ZmOiAnMCcsDQogICAgICAgICAgICAgICAgc2hhcGU6ICdyZWN0JywNCiAgICAgICAgICAgICAgICBjb2xvcjogJyNFMkIwMDcnLA0KICAgICAgICAgICAgICAgIHN1YlRvcGljOiAnemIvaC9zY2hhbHRlci9lMTc0M2IgemIvaC9kb3NlL2UxNjAzYicsDQogICAgICAgICAgICAgICAgcHViVG9waWM6ICd6Yi9oL3NjaGFsdGVyL2UxNzQzYicsDQogICAgICAgICAgICAgICAgcHViUGF5bG9hZDogJ3siYWN0aW9uIjogIm9uIiwgImJhdHRlcnkiOiAiPyJ9JywNCiAgICAgICAgICAgICAgICBwdWJUb3BpY09mZjogJ3piL2gvc2NoYWx0ZXIvZTE3NDNiJywNCiAgICAgICAgICAgICAgICBwdWJQYXlsb2FkT2ZmOiAneyJhY3Rpb24iOiAib2ZmIiwgImJhdHRlcnkiOiAiPyJ9JywNCiAgICAgICAgICAgICAgICBzb2NrZXRUb3BpYzogJ3piL2gvZG9zZS9lMTYwM2Ivc2V0JywNCiAgICAgICAgICAgICAgICBzb2NrZXRQYXlsb2FkT246ICd7InN0YXRlIjogIk9OIn0nLA0KICAgICAgICAgICAgICAgIHNvY2tldFBheWxvYWRPZmY6ICd7InN0YXRlIjogIk9GRiJ9Jw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ2JlMWFyQycsDQogICAgICAgICAgICAgICAgbmFtZTogJ0MnLA0KICAgICAgICAgICAgICAgIGlCdXR0b24yU3RhdGU6IC05LA0KICAgICAgICAgICAgICAgIHR5cGU6ICdFMTc0MycsDQogICAgICAgICAgICAgICAgYmF0dGVyeTogJy0nLA0KICAgICAgICAgICAgICAgIHRleHRPbjogJzEnLA0KICAgICAgICAgICAgICAgIHRleHRPZmY6ICcwJywNCiAgICAgICAgICAgICAgICBzaGFwZTogJ3JlY3QnLA0KICAgICAgICAgICAgICAgIGNvbG9yOiAnI0UyQjAwNycsDQogICAgICAgICAgICAgICAgc3ViVG9waWM6ICd6Yi9oL3NjaGFsdGVyL2UxNzQzYyB6Yi9oL2Rvc2UvZTE2MDNjJywNCiAgICAgICAgICAgICAgICBwdWJUb3BpYzogJ3piL2gvc2NoYWx0ZXIvZTE3NDNjJywNCiAgICAgICAgICAgICAgICBwdWJQYXlsb2FkOiAneyJhY3Rpb24iOiAib24iLCAiYmF0dGVyeSI6ICI/In0nLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljT2ZmOiAnemIvaC9zY2hhbHRlci9lMTc0M2MnLA0KICAgICAgICAgICAgICAgIHB1YlBheWxvYWRPZmY6ICd7ImFjdGlvbiI6ICJvZmYiLCAiYmF0dGVyeSI6ICI/In0nLA0KICAgICAgICAgICAgICAgIHNvY2tldFRvcGljOiAnemIvaC9kb3NlL2UxNjAzYy9zZXQnLA0KICAgICAgICAgICAgICAgIHNvY2tldFBheWxvYWRPbjogJ3sic3RhdGUiOiAiT04ifScsDQogICAgICAgICAgICAgICAgc29ja2V0UGF5bG9hZE9mZjogJ3sic3RhdGUiOiAiT0ZGIn0nDQogICAgICAgICAgICB9DQogICAgICAgIF0pOw0KICAgICAgICByZXR1cm4gX3RoaXM7DQogICAgfQ0KICAgIENpQnV0dG9uMkNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7DQogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgICAgIHRoaXMuYnV0dG9uMnMuZm9yRWFjaChmdW5jdGlvbiAoYnV0dG9uMikgew0KICAgICAgICAgICAgdmFyIGFTdWJUb3BpYyA9IGJ1dHRvbjIuc3ViVG9waWMuc3BsaXQoJyAnKTsNCiAgICAgICAgICAgIGlmIChhU3ViVG9waWMuaW5jbHVkZXMobWVzc2FnZS50b3BpYykpIHsNCiAgICAgICAgICAgICAgICAvLyAtLS1idXR0b24yIGZvdW5kIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAgICAgICAgIGlmIChidXR0b24yLnR5cGUgPT09ICdEMScpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKChtZXNzYWdlLnBheWxvYWQgPT09ICcxJykgfHwgKG1lc3NhZ2UucGF5bG9hZCA9PT0gJ29uJykpDQogICAgICAgICAgICAgICAgICAgICAgICBidXR0b24yLmlCdXR0b24yU3RhdGUgPSAtMTsNCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG1lc3NhZ2UucGF5bG9hZCA9PT0gJzAnKSB8fCAobWVzc2FnZS5wYXlsb2FkID09PSAnb2ZmJykpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uMi5pQnV0dG9uMlN0YXRlID0gLTI7DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24yLmlCdXR0b24yU3RhdGUgPSAtOTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnQ2lCdXR0b24yQ29udHJvbGxlcjpvbk1lc3NhZ2U6IG1lc3NhZ2UucGF5bG9hZD0nLCBtZXNzYWdlLnBheWxvYWQpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChidXR0b24yLnR5cGUgPT09ICdFMTc0MycpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudG9waWMuaW5jbHVkZXMoJ2UxNzQzJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhUGF5bG9hZCA9IEpTT04ucGFyc2UobWVzc2FnZS5wYXlsb2FkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjIuYmF0dGVyeSA9ICIiICsgYVBheWxvYWQuYmF0dGVyeTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUEgPSAiIiArIGFQYXlsb2FkLmFjdGlvbjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjIuaUJ1dHRvbjJTdGF0ZSA9IC05Ow0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlQSA9PT0gJ29uJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjIuaUJ1dHRvbjJTdGF0ZSA9IC0xOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoYnV0dG9uMiA9PT0gbnVsbCB8fCBidXR0b24yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBidXR0b24yLnNvY2tldFRvcGljKSAmJiAoYnV0dG9uMiA9PT0gbnVsbCB8fCBidXR0b24yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBidXR0b24yLnNvY2tldFBheWxvYWRPbikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucHVibGlzaENpKGJ1dHRvbjIuc29ja2V0VG9waWMsIGJ1dHRvbjIuc29ja2V0UGF5bG9hZE9uKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVBID09PSAnb2ZmJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjIuaUJ1dHRvbjJTdGF0ZSA9IC0yOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoYnV0dG9uMiA9PT0gbnVsbCB8fCBidXR0b24yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBidXR0b24yLnNvY2tldFRvcGljKSAmJiAoYnV0dG9uMiA9PT0gbnVsbCB8fCBidXR0b24yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBidXR0b24yLnNvY2tldFBheWxvYWRPZmYpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnB1Ymxpc2hDaShidXR0b24yLnNvY2tldFRvcGljLCBidXR0b24yLnNvY2tldFBheWxvYWRPZmYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50b3BpYy5pbmNsdWRlcygnZTE2MDMnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFQYXlsb2FkID0gSlNPTi5wYXJzZShtZXNzYWdlLnBheWxvYWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlUyA9ICIiICsgYVBheWxvYWQuc3RhdGU7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGVTID09PSAnT04nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjIuaUJ1dHRvbjJTdGF0ZSA9IC0xOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlUyA9PT0gJ09GRicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uMi5pQnV0dG9uMlN0YXRlID0gLTI7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH07DQogICAgQ2lCdXR0b24yQ29udHJvbGxlci5wcm90b3R5cGUucHVibGlzaENpID0gZnVuY3Rpb24gKHRvcGljLCBwYXlsb2FkKSB7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKCdDaUJ1dHRvbjJDb250cm9sbGVyOnB1Ymxpc2hDaTonLCAnLXQgJyArIHRvcGljICsgJyAtbSAnICsgcGF5bG9hZCkNCiAgICAgICAgdGhpcy5wdWJsaXNoKHRvcGljLCBwYXlsb2FkLCBmYWxzZSwgMCkuY2F0Y2goZnVuY3Rpb24gKGUpIHsgY29uc29sZS5lcnJvcignQ2lCdXR0b24yQ29udHJvbGxlcjogRVJST1I6JywgZSk7IH0pOw0KICAgIH07DQogICAgcmV0dXJuIENpQnV0dG9uMkNvbnRyb2xsZXI7DQp9KENpQmFzZUNvbnRyb2xsZXIpKTsNCmV4cG9ydCB7IENpQnV0dG9uMkNvbnRyb2xsZXIgfTsNCmV4cG9ydCB2YXIgY2lCdXR0b24yQ29udHJvbGxlciA9IG5ldyBDaUJ1dHRvbjJDb250cm9sbGVyKCk7DQo="},{"version":3,"file":"G:\\work3\\vue\\haus2\\src\\controller\\CiButton2Controller.ts","sourceRoot":"","sources":["G:\\work3\\vue\\haus2\\src\\controller\\CiButton2Controller.ts"],"names":[],"mappings":"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","sourcesContent":["// ______CiButton2Controller.ts__________________khartinger_____\r\n// 2022-09-14: add .catch((e) ..) to this.publish\r\n// 2023-01-02: import { geo0 } changed\r\nimport { reactive } from 'vue'\r\nimport { Message } from '@/services/CiMqttClient'\r\nimport { CiBaseController, IBase } from './CiBaseController'\r\n\r\nexport interface Button2 extends IBase {\r\n  iButton2State: number;\r\n  type: string;\r\n  battery: string;\r\n  textOn: string;\r\n  textOff: string;\r\n  pubTopicOff: string;\r\n  pubPayloadOff: string;\r\n  shape?: string;\r\n  color?: string;\r\n  text5?: string;\r\n  // ---------switch IKEA socket--------------------------------\r\n  socketTopic?: string;\r\n  socketPayloadOn?: string;\r\n  socketPayloadOff?: string;\r\n}\r\n\r\nexport class CiButton2Controller extends CiBaseController {\r\n  public button2s: Array<Button2> = reactive(\r\n    [\r\n      {\r\n        id: 'be1arA',\r\n        name: 'A',\r\n        iButton2State: -9,\r\n        type: 'E1743',\r\n        battery: '-',\r\n        textOn: '1',\r\n        textOff: '0',\r\n        shape: 'rect',\r\n        // color: '#E2B007',\r\n        subTopic: 'zb/h/schalter/e1743a zb/h/dose/e1603a',\r\n        pubTopic: 'zb/h/schalter/e1743a',\r\n        pubPayload: '{\"action\": \"on\", \"battery\": \"?\"}',\r\n        pubTopicOff: 'zb/h/schalter/e1743a',\r\n        pubPayloadOff: '{\"action\": \"off\", \"battery\": \"?\"}',\r\n\r\n        socketTopic: 'zb/h/dose/e1603a/set',\r\n        socketPayloadOn: '{\"state\": \"ON\"}',\r\n        socketPayloadOff: '{\"state\": \"OFF\"}'\r\n      },\r\n      {\r\n        id: 'be1arB',\r\n        name: 'B',\r\n        iButton2State: -9,\r\n        type: 'E1743',\r\n        battery: '-',\r\n        textOn: '1',\r\n        textOff: '0',\r\n        shape: 'rect',\r\n        color: '#E2B007',\r\n        subTopic: 'zb/h/schalter/e1743b zb/h/dose/e1603b',\r\n        pubTopic: 'zb/h/schalter/e1743b',\r\n        pubPayload: '{\"action\": \"on\", \"battery\": \"?\"}',\r\n        pubTopicOff: 'zb/h/schalter/e1743b',\r\n        pubPayloadOff: '{\"action\": \"off\", \"battery\": \"?\"}',\r\n\r\n        socketTopic: 'zb/h/dose/e1603b/set',\r\n        socketPayloadOn: '{\"state\": \"ON\"}',\r\n        socketPayloadOff: '{\"state\": \"OFF\"}'\r\n      },\r\n      {\r\n        id: 'be1arC',\r\n        name: 'C',\r\n        iButton2State: -9,\r\n        type: 'E1743',\r\n        battery: '-',\r\n        textOn: '1',\r\n        textOff: '0',\r\n        shape: 'rect',\r\n        color: '#E2B007',\r\n        subTopic: 'zb/h/schalter/e1743c zb/h/dose/e1603c',\r\n        pubTopic: 'zb/h/schalter/e1743c',\r\n        pubPayload: '{\"action\": \"on\", \"battery\": \"?\"}',\r\n        pubTopicOff: 'zb/h/schalter/e1743c',\r\n        pubPayloadOff: '{\"action\": \"off\", \"battery\": \"?\"}',\r\n\r\n        socketTopic: 'zb/h/dose/e1603c/set',\r\n        socketPayloadOn: '{\"state\": \"ON\"}',\r\n        socketPayloadOff: '{\"state\": \"OFF\"}'\r\n      }\r\n    ]\r\n  );\r\n\r\n  public onMessage (message: Message): void {\r\n    this.button2s.forEach(button2 => {\r\n      const aSubTopic = button2.subTopic.split(' ')\r\n      if (aSubTopic.includes(message.topic)) {\r\n        // ---button2 found ---------------------------------\r\n        if (button2.type === 'D1') {\r\n          if ((message.payload === '1') || (message.payload === 'on')) button2.iButton2State = -1\r\n          else {\r\n            if ((message.payload === '0') || (message.payload === 'off')) button2.iButton2State = -2\r\n            else { button2.iButton2State = -9 }\r\n          }\r\n        // console.log('CiButton2Controller:onMessage: message.payload=', message.payload)\r\n        }\r\n        if (button2.type === 'E1743') {\r\n          if (message.topic.includes('e1743')) {\r\n            const aPayload = JSON.parse(message.payload)\r\n            button2.battery = `${aPayload.battery}`\r\n            const stateA = `${aPayload.action}`\r\n            button2.iButton2State = -9\r\n            if (stateA === 'on') {\r\n              button2.iButton2State = -1\r\n              if (button2?.socketTopic && button2?.socketPayloadOn) {\r\n                this.publishCi(button2.socketTopic, button2.socketPayloadOn)\r\n              }\r\n            }\r\n            if (stateA === 'off') {\r\n              button2.iButton2State = -2\r\n              if (button2?.socketTopic && button2?.socketPayloadOff) {\r\n                this.publishCi(button2.socketTopic, button2.socketPayloadOff)\r\n              }\r\n            }\r\n          }\r\n          if (message.topic.includes('e1603')) {\r\n            const aPayload = JSON.parse(message.payload)\r\n            const stateS = `${aPayload.state}`\r\n            if (stateS === 'ON') button2.iButton2State = -1\r\n            if (stateS === 'OFF') button2.iButton2State = -2\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  public publishCi (topic: string, payload: string): void {\r\n    // console.log('CiButton2Controller:publishCi:', '-t ' + topic + ' -m ' + payload)\r\n    this.publish(topic, payload, false, 0).catch((e) => { console.error('CiButton2Controller: ERROR:', e) })\r\n  }\r\n}\r\n\r\nexport const ciButton2Controller = new CiButton2Controller()\r\n"]}]}