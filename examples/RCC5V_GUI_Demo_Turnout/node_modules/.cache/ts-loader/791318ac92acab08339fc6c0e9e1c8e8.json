{"remainingRequest":"G:\\work3\\vue\\haus2\\node_modules\\thread-loader\\dist\\cjs.js!G:\\work3\\vue\\haus2\\node_modules\\ts-loader\\index.js??ref--13-2!G:\\work3\\vue\\haus2\\src\\controller\\CiBaseController.ts","dependencies":[{"path":"G:\\work3\\vue\\haus2\\src\\controller\\CiBaseController.ts","mtime":1641049089603},{"path":"G:\\work3\\vue\\haus2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciB9IGZyb20gInRzbGliIjsNCnZhciBDaUJhc2VDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgew0KICAgIGZ1bmN0aW9uIENpQmFzZUNvbnRyb2xsZXIoKSB7DQogICAgICAgIHRoaXMuY2xpZW50ID0gbnVsbDsNCiAgICB9DQogICAgQ2lCYXNlQ29udHJvbGxlci5wcm90b3R5cGUucmVnaXN0ZXJDbGllbnQgPSBmdW5jdGlvbiAobXF0dENsaWVudCkgew0KICAgICAgICB0aGlzLmNsaWVudCA9IG1xdHRDbGllbnQ7DQogICAgfTsNCiAgICBDaUJhc2VDb250cm9sbGVyLnByb3RvdHlwZS5wdWJsaXNoID0gZnVuY3Rpb24gKHRvcGljLCBwYXlsb2FkLCByZXRhaW4sIHFvcykgew0KICAgICAgICB2YXIgX2E7DQogICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCBQcm9taXNlLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIChfYSA9IHRoaXMuY2xpZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHVibGlzaCh0b3BpYywgcGF5bG9hZCwgcmV0YWluLCBxb3MpXTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICB9Ow0KICAgIHJldHVybiBDaUJhc2VDb250cm9sbGVyOw0KfSgpKTsNCmV4cG9ydCB7IENpQmFzZUNvbnRyb2xsZXIgfTsNCg=="},{"version":3,"file":"G:\\work3\\vue\\haus2\\src\\controller\\CiBaseController.ts","sourceRoot":"","sources":["G:\\work3\\vue\\haus2\\src\\controller\\CiBaseController.ts"],"names":[],"mappings":";AAYA;IAAA;QACY,WAAM,GAAwB,IAAI,CAAC;IAW/C,CAAC;IATQ,yCAAc,GAArB,UAAuB,UAAwB;QAC7C,IAAI,CAAC,MAAM,GAAG,UAAU,CAAA;IAC1B,CAAC;IAEe,kCAAO,GAAvB,UAAyB,KAAa,EAAE,OAAe,EAAE,MAAe,EAAE,GAAQ;;uCAAG,OAAO;;gBAC1F,4BAAO,IAAI,CAAC,MAAM,0CAAE,OAAO,CAAC,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,GAAC;;;KACzD;IAGH,uBAAC;AAAD,CAAC,AAZD,IAYC","sourcesContent":["// ______CiBaseController.ts_____________________2022-01-01_____\r\nimport { Message, CiMqttClient } from '@/services/CiMqttClient'\r\nimport type { QoS } from 'mqtt'\r\n\r\nexport interface IBase {\r\n  id: string;\r\n  name?: string;\r\n  subTopic: string;\r\n  pubTopic: string;\r\n  pubPayload?: string;\r\n}\r\n\r\nexport abstract class CiBaseController {\r\n  protected client: CiMqttClient | null = null;\r\n\r\n  public registerClient (mqttClient: CiMqttClient): void {\r\n    this.client = mqttClient\r\n  }\r\n\r\n  protected async publish (topic: string, payload: string, retain: boolean, qos: QoS): Promise<void> {\r\n    return this.client?.publish(topic, payload, retain, qos)\r\n  }\r\n\r\n  public abstract onMessage(message: Message): void;\r\n}\r\n"]}]}