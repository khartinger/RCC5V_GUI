{"remainingRequest":"G:\\work3\\vue\\haus2\\node_modules\\ts-loader\\index.js??ref--13-1!G:\\work3\\vue\\haus2\\src\\controller\\CiWeatherController.ts","dependencies":[{"path":"G:\\work3\\vue\\haus2\\src\\controller\\CiWeatherController.ts","mtime":1675624440914},{"path":"G:\\work3\\vue\\haus2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSAidHNsaWIiOw0KLy8gX19fX19fQ2lXZWF0aGVyQ29udHJvbGxlci50c19fX19fX19fX19fX19fX19fX2toYXJ0aW5nZXJfX19fXw0KLy8gMjAyMi0wMS0wMTogbmV3DQovLyAyMDIyLTA5LTE0OiBhZGQgLmNhdGNoKChlKSAuLikgdG8gdGhpcy5wdWJsaXNoDQovLyAyMDIzLTAxLTAyOiBpbXBvcnQgeyBnZW8wIH0gY2hhbmdlZA0KaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tICd2dWUnOw0KaW1wb3J0IHsgQ2lCYXNlQ29udHJvbGxlciB9IGZyb20gJy4vQ2lCYXNlQ29udHJvbGxlcic7DQppbXBvcnQgeyBnZW8wIH0gZnJvbSAnLi4vY2xhc3Nlcy9HZW8nOw0KdmFyIENpV2VhdGhlckNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7DQogICAgX19leHRlbmRzKENpV2VhdGhlckNvbnRyb2xsZXIsIF9zdXBlcik7DQogICAgZnVuY3Rpb24gQ2lXZWF0aGVyQ29udHJvbGxlcigpIHsNCiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7DQogICAgICAgIF90aGlzLndlYXRoZXJzID0gcmVhY3RpdmUoWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAnd2V0dGVyMScsDQogICAgICAgICAgICAgICAgdHlwZTogJ3piJywNCiAgICAgICAgICAgICAgICBuYW1lOiAnV2V0dGVyMV96YicsDQogICAgICAgICAgICAgICAgaVdlYXRoZXJTdGF0ZTogLTEsDQogICAgICAgICAgICAgICAgYmF0dGVyeTogJz8nLA0KICAgICAgICAgICAgICAgIGxhc3RXZWF0aGVyRGF0ZTogJy0tLi0tLi0tJywNCiAgICAgICAgICAgICAgICBsYXN0V2VhdGhlclRpbWU6ICctLTotLTotLScsDQogICAgICAgICAgICAgICAgc3ViVG9waWM6ICd6Yi9oL3dldHRlci8tMSB6Yi9oL3dldHRlci8tMS90aW1lJywNCiAgICAgICAgICAgICAgICBwdWJUb3BpYzogJycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWQ6ICd3ZXR0ZXIyJywNCiAgICAgICAgICAgICAgICB0eXBlOiAnemInLA0KICAgICAgICAgICAgICAgIG5hbWU6ICdXZXR0ZXIyX3piJywNCiAgICAgICAgICAgICAgICBpV2VhdGhlclN0YXRlOiAtMSwNCiAgICAgICAgICAgICAgICBiYXR0ZXJ5OiAnPycsDQogICAgICAgICAgICAgICAgbGFzdFdlYXRoZXJEYXRlOiAnLS0uLS0uLS0nLA0KICAgICAgICAgICAgICAgIGxhc3RXZWF0aGVyVGltZTogJy0tOi0tOi0tJywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ3piL2gvd2V0dGVyLy0yIHpiL2gvd2V0dGVyLy0yL3RpbWUnLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ3dldHRlcjMnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICd6YicsDQogICAgICAgICAgICAgICAgbmFtZTogJ1dldHRlcjNfemInLA0KICAgICAgICAgICAgICAgIGlXZWF0aGVyU3RhdGU6IC0xLA0KICAgICAgICAgICAgICAgIGJhdHRlcnk6ICc/JywNCiAgICAgICAgICAgICAgICBsYXN0V2VhdGhlckRhdGU6ICctLS4tLS4tLScsDQogICAgICAgICAgICAgICAgbGFzdFdlYXRoZXJUaW1lOiAnLS06LS06LS0nLA0KICAgICAgICAgICAgICAgIHN1YlRvcGljOiAnemIvaC93ZXR0ZXIvLTMgemIvaC93ZXR0ZXIvLTMvdGltZScsDQogICAgICAgICAgICAgICAgcHViVG9waWM6ICcnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAnd2V0dGVyNCcsDQogICAgICAgICAgICAgICAgdHlwZTogJ3piJywNCiAgICAgICAgICAgICAgICBuYW1lOiAnV2V0dGVyNF96YicsDQogICAgICAgICAgICAgICAgaVdlYXRoZXJTdGF0ZTogLTEsDQogICAgICAgICAgICAgICAgYmF0dGVyeTogJz8nLA0KICAgICAgICAgICAgICAgIGxhc3RXZWF0aGVyRGF0ZTogJy0tLi0tLi0tJywNCiAgICAgICAgICAgICAgICBsYXN0V2VhdGhlclRpbWU6ICctLTotLTotLScsDQogICAgICAgICAgICAgICAgc3ViVG9waWM6ICd6Yi9oL3dldHRlci8tNCB6Yi9oL3dldHRlci8tNC90aW1lJywNCiAgICAgICAgICAgICAgICBwdWJUb3BpYzogJycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWQ6ICd3ZXR0ZXI1JywNCiAgICAgICAgICAgICAgICB0eXBlOiAnemInLA0KICAgICAgICAgICAgICAgIG5hbWU6ICdXZXR0ZXI1X3piJywNCiAgICAgICAgICAgICAgICBpV2VhdGhlclN0YXRlOiAtMSwNCiAgICAgICAgICAgICAgICBiYXR0ZXJ5OiAnPycsDQogICAgICAgICAgICAgICAgbGFzdFdlYXRoZXJEYXRlOiAnLS0uLS0uLS0nLA0KICAgICAgICAgICAgICAgIGxhc3RXZWF0aGVyVGltZTogJy0tOi0tOi0tJywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ3piL2gvd2V0dGVyLy01IHpiL2gvd2V0dGVyLy01L3RpbWUnLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ3dldHRlcjYnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICd6YicsDQogICAgICAgICAgICAgICAgbmFtZTogJ1dldHRlcjZfemInLA0KICAgICAgICAgICAgICAgIGlXZWF0aGVyU3RhdGU6IC0xLA0KICAgICAgICAgICAgICAgIGJhdHRlcnk6ICc/JywNCiAgICAgICAgICAgICAgICBsYXN0V2VhdGhlckRhdGU6ICctLS4tLS4tLScsDQogICAgICAgICAgICAgICAgbGFzdFdlYXRoZXJUaW1lOiAnLS06LS06LS0nLA0KICAgICAgICAgICAgICAgIHN1YlRvcGljOiAnemIvaC93ZXR0ZXIvLTYgemIvaC93ZXR0ZXIvLTYvdGltZScsDQogICAgICAgICAgICAgICAgcHViVG9waWM6ICcnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAnd2V0dGVyNycsDQogICAgICAgICAgICAgICAgdHlwZTogJ3piJywNCiAgICAgICAgICAgICAgICBuYW1lOiAnV2V0dGVyN196YicsDQogICAgICAgICAgICAgICAgaVdlYXRoZXJTdGF0ZTogLTEsDQogICAgICAgICAgICAgICAgYmF0dGVyeTogJz8nLA0KICAgICAgICAgICAgICAgIGxhc3RXZWF0aGVyRGF0ZTogJy0tLi0tLi0tJywNCiAgICAgICAgICAgICAgICBsYXN0V2VhdGhlclRpbWU6ICctLTotLTotLScsDQogICAgICAgICAgICAgICAgc3ViVG9waWM6ICd6Yi9oL3dldHRlci8tNyB6Yi9oL3dldHRlci8tNy90aW1lJywNCiAgICAgICAgICAgICAgICBwdWJUb3BpYzogJycNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWQ6ICd3ZXR0ZXI4JywNCiAgICAgICAgICAgICAgICB0eXBlOiAnemInLA0KICAgICAgICAgICAgICAgIG5hbWU6ICdXZXR0ZXI4X3piJywNCiAgICAgICAgICAgICAgICBpV2VhdGhlclN0YXRlOiAtMSwNCiAgICAgICAgICAgICAgICBiYXR0ZXJ5OiAnPycsDQogICAgICAgICAgICAgICAgbGFzdFdlYXRoZXJEYXRlOiAnLS0uLS0uLS0nLA0KICAgICAgICAgICAgICAgIGxhc3RXZWF0aGVyVGltZTogJy0tOi0tOi0tJywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ3piL2gvd2V0dGVyLy04IHpiL2gvd2V0dGVyLy04L3RpbWUnLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ3dldHRlcjknLA0KICAgICAgICAgICAgICAgIHR5cGU6ICd6YicsDQogICAgICAgICAgICAgICAgbmFtZTogJ1dldHRlcjlfemInLA0KICAgICAgICAgICAgICAgIGlXZWF0aGVyU3RhdGU6IC0xLA0KICAgICAgICAgICAgICAgIGJhdHRlcnk6ICc/JywNCiAgICAgICAgICAgICAgICBsYXN0V2VhdGhlckRhdGU6ICctLS4tLS4tLScsDQogICAgICAgICAgICAgICAgbGFzdFdlYXRoZXJUaW1lOiAnLS06LS06LS0nLA0KICAgICAgICAgICAgICAgIHN1YlRvcGljOiAnemIvaC93ZXR0ZXIvLTkgemIvaC93ZXR0ZXIvLTkvdGltZScsDQogICAgICAgICAgICAgICAgcHViVG9waWM6ICcnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAnd2V0dGVyMTEnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICd6YicsDQogICAgICAgICAgICAgICAgbmFtZTogJ1dldHRlcjExX3piJywNCiAgICAgICAgICAgICAgICBpV2VhdGhlclN0YXRlOiAtMSwNCiAgICAgICAgICAgICAgICBiYXR0ZXJ5OiAnPycsDQogICAgICAgICAgICAgICAgbGFzdFdlYXRoZXJEYXRlOiAnLS0uLS0uLS0nLA0KICAgICAgICAgICAgICAgIGxhc3RXZWF0aGVyVGltZTogJy0tOi0tOi0tJywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ3piL2gvd2V0dGVyLy0xMSB6Yi9oL3dldHRlci8tMTEvdGltZScsDQogICAgICAgICAgICAgICAgcHViVG9waWM6ICcnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlkOiAnd2VhdGhlcmh1dGluJywNCiAgICAgICAgICAgICAgICB0eXBlOiAnaHV0X2luJywNCiAgICAgICAgICAgICAgICBuYW1lOiAnSHV0X2QxaScsDQogICAgICAgICAgICAgICAgaVdlYXRoZXJTdGF0ZTogLTEsDQogICAgICAgICAgICAgICAgbGFzdFdlYXRoZXJEYXRlOiAnLS0uLS0uLS0nLA0KICAgICAgICAgICAgICAgIGxhc3RXZWF0aGVyVGltZTogJy0tOi0tOi0tJywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ2lwL2gvaHUyL2h1ZXR0ZS9yZXQvc3RhdHVzIGlwL2gvaHUyL2h1ZXR0ZS9yZXQvYWxsZXMnLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZDogJ3dlYXRoZXJodXRvdXQnLA0KICAgICAgICAgICAgICAgIHR5cGU6ICdodXRfb3V0JywNCiAgICAgICAgICAgICAgICBuYW1lOiAnSHV0X2QxbycsDQogICAgICAgICAgICAgICAgaVdlYXRoZXJTdGF0ZTogLTEsDQogICAgICAgICAgICAgICAgbGFzdFdlYXRoZXJEYXRlOiAnLS0uLS0uLS0nLA0KICAgICAgICAgICAgICAgIGxhc3RXZWF0aGVyVGltZTogJy0tOi0tOi0tJywNCiAgICAgICAgICAgICAgICBzdWJUb3BpYzogJ2lwL2gvaHUyL2h1ZXR0ZS9yZXQvc3RhdHVzIGlwL2gvaHUyL2h1ZXR0ZS9yZXQvYWxsZXMnLA0KICAgICAgICAgICAgICAgIHB1YlRvcGljOiAnJw0KICAgICAgICAgICAgfQ0KICAgICAgICBdKTsNCiAgICAgICAgcmV0dXJuIF90aGlzOw0KICAgIH0NCiAgICAvLyAtLS0tLS0tLS1NZXNzYWdlIGZvciB0aGlzIGNpIChjb250cm9sL2luZGljYXRvcik/LS0tLS0tLS0tLQ0KICAgIENpV2VhdGhlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7DQogICAgICAgIHRoaXMud2VhdGhlcnMuZm9yRWFjaChmdW5jdGlvbiAod2VhdGhlcikgew0KICAgICAgICAgICAgdmFyIGFTdWJUb3BpYyA9IHdlYXRoZXIuc3ViVG9waWMuc3BsaXQoJyAnKTsNCiAgICAgICAgICAgIGlmIChhU3ViVG9waWMuaW5jbHVkZXMobWVzc2FnZS50b3BpYykpIHsNCiAgICAgICAgICAgICAgICAvLyAtLS13ZWF0aGVyIHRvcGljIGZvdW5kIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRvcGljLmluY2x1ZGVzKCd0aW1lJykpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UucGF5bG9hZC5sZW5ndGggPT09IDE1KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB3ZWF0aGVyLmxhc3RXZWF0aGVyRGF0ZSA9IG1lc3NhZ2UucGF5bG9hZC5zdWJzdHJpbmcoNiwgOCkgKyAnLicgKyBtZXNzYWdlLnBheWxvYWQuc3Vic3RyaW5nKDQsIDYpICsgJy4nICsgbWVzc2FnZS5wYXlsb2FkLnN1YnN0cmluZygyLCA0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdlYXRoZXIubGFzdFdlYXRoZXJUaW1lID0gbWVzc2FnZS5wYXlsb2FkLnN1YnN0cmluZyg5LCAxMSkgKyAnOicgKyBtZXNzYWdlLnBheWxvYWQuc3Vic3RyaW5nKDExLCAxMykgKyAnOicgKyBtZXNzYWdlLnBheWxvYWQuc3Vic3RyaW5nKDEzLCAxNSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB3ZWF0aGVyLmxhc3RXZWF0aGVyRGF0ZSA9IGdlbzAubm9EYXRlOw0KICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5sYXN0V2VhdGhlclRpbWUgPSBnZW8wLm5vVGltZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5pV2VhdGhlclN0YXRlID0gMTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHdlYXRoZXIudHlwZSA9PT0gJ3piJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUb0RvOiAuLi4gdG9waWMvdGltZSAuLi4gc2VlIEJld2VndW5nIQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhUGF5bG9hZCA9IEpTT04ucGFyc2UobWVzc2FnZS5wYXlsb2FkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWF0aGVyLnRlbXBlcmF0dXJlID0gYVBheWxvYWQudGVtcGVyYXR1cmUudG9GaXhlZCgxKSArICfCsEMnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYXRoZXIuaHVtaWRpdHkgPSBhUGF5bG9hZC5odW1pZGl0eS50b0ZpeGVkKDEpICsgJyUnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYXRoZXIuYmF0dGVyeSA9IGFQYXlsb2FkLmJhdHRlcnkgKyAnJSc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5pV2VhdGhlclN0YXRlID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgeyB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHdlYXRoZXIudHlwZSA9PT0gJ2h1dF9pbicpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFQYXlsb2FkID0gSlNPTi5wYXJzZShtZXNzYWdlLnBheWxvYWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYXRoZXIudGVtcGVyYXR1cmUgPSBhUGF5bG9hZC5UaS50b0ZpeGVkKDEpICsgJ8KwQyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5odW1pZGl0eSA9IGFQYXlsb2FkLkhpLnRvRml4ZWQoMSkgKyAnJSc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2VhdGhlci5wcmVzc3VyZSA9IGFQYXlsb2FkLnBpLnRvRml4ZWQoMCkgKyAncGEnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5icmlnaHRuZXNzID0gYVBheWxvYWQuTGkudG9GaXhlZCgwKSArICdseCc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci50ZXh0NSA9IGFQYXlsb2FkLnBpLnRvRml4ZWQoMCkgKyAncGEnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlYXRoZXIuYmF0dGVyeSA9IGFQYXlsb2FkLmJhdHRlcnkgKyAnJScNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWF0aGVyLmlXZWF0aGVyU3RhdGUgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7IH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAod2VhdGhlci50eXBlID09PSAnaHV0X291dCcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFQYXlsb2FkID0gSlNPTi5wYXJzZShtZXNzYWdlLnBheWxvYWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYXRoZXIudGVtcGVyYXR1cmUgPSBhUGF5bG9hZC5UYS50b0ZpeGVkKDEpICsgJ8KwQyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5odW1pZGl0eSA9IGFQYXlsb2FkLkhhLnRvRml4ZWQoMSkgKyAnJSc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2VhdGhlci5wcmVzc3VyZSA9IGFQYXlsb2FkLnBhLnRvRml4ZWQoMCkgKyAncGEnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci5icmlnaHRuZXNzID0gYVBheWxvYWQuTGEudG9GaXhlZCgwKSArICdseCc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VhdGhlci50ZXh0NSA9IGFQYXlsb2FkLnBhLnRvRml4ZWQoMCkgKyAncGEnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlYXRoZXIuYmF0dGVyeSA9IGFQYXlsb2FkLmJhdHRlcnkgKyAnJScNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWF0aGVyLmlXZWF0aGVyU3RhdGUgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7IH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gLy8gZW5kIG9mIGVsc2UgdGltZQ0KICAgICAgICAgICAgfSAvLyBFTkQgd2VhdGhlciB0b3BpYyBmb3VuZA0KICAgICAgICB9KTsNCiAgICB9Ow0KICAgIENpV2VhdGhlckNvbnRyb2xsZXIucHJvdG90eXBlLnB1Ymxpc2hDaSA9IGZ1bmN0aW9uICh0b3BpYywgcGF5bG9hZCkgew0KICAgICAgICAvLyBjb25zb2xlLmxvZygncHVibGlzaDonLCAnLXQgJyArIHRvcGljICsgJyAtbSAnICsgcGF5bG9hZCkNCiAgICAgICAgdGhpcy5wdWJsaXNoKHRvcGljLCBwYXlsb2FkLCBmYWxzZSwgMCkuY2F0Y2goZnVuY3Rpb24gKGUpIHsgY29uc29sZS5lcnJvcignQ2lXZWF0aGVyQ29udHJvbGxlcjogRVJST1I6JywgZSk7IH0pOw0KICAgIH07DQogICAgcmV0dXJuIENpV2VhdGhlckNvbnRyb2xsZXI7DQp9KENpQmFzZUNvbnRyb2xsZXIpKTsNCmV4cG9ydCB7IENpV2VhdGhlckNvbnRyb2xsZXIgfTsNCmV4cG9ydCB2YXIgY2lXZWF0aGVyQ29udHJvbGxlciA9IG5ldyBDaVdlYXRoZXJDb250cm9sbGVyKCk7DQo="},{"version":3,"file":"G:\\work3\\vue\\haus2\\src\\controller\\CiWeatherController.ts","sourceRoot":"","sources":["G:\\work3\\vue\\haus2\\src\\controller\\CiWeatherController.ts"],"names":[],"mappings":"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","sourcesContent":["// ______CiWeatherController.ts__________________khartinger_____\r\n// 2022-01-01: new\r\n// 2022-09-14: add .catch((e) ..) to this.publish\r\n// 2023-01-02: import { geo0 } changed\r\nimport { reactive } from 'vue'\r\nimport { Message } from '@/services/CiMqttClient'\r\nimport { CiBaseController, IBase } from './CiBaseController'\r\nimport { geo0 } from '../classes/Geo'\r\n\r\nexport interface Weather extends IBase {\r\n  type: string;\r\n  iWeatherState: number;\r\n  temperature?: string;\r\n  humidity?: string;\r\n  pressure?: string;\r\n  brightness?: string;\r\n  battery?: string;\r\n  text5?: string;\r\n  lastWeatherDate: string;\r\n  lastWeatherTime: string;\r\n}\r\n\r\nexport class CiWeatherController extends CiBaseController {\r\n  public weathers: Array<Weather> = reactive(\r\n    [\r\n      { // weather 1\r\n        id: 'wetter1',\r\n        type: 'zb',\r\n        name: 'Wetter1_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'zb/h/wetter/-1 zb/h/wetter/-1/time',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 2\r\n        id: 'wetter2',\r\n        type: 'zb',\r\n        name: 'Wetter2_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'zb/h/wetter/-2 zb/h/wetter/-2/time',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 3\r\n        id: 'wetter3',\r\n        type: 'zb',\r\n        name: 'Wetter3_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'zb/h/wetter/-3 zb/h/wetter/-3/time',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 4\r\n        id: 'wetter4',\r\n        type: 'zb',\r\n        name: 'Wetter4_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'zb/h/wetter/-4 zb/h/wetter/-4/time',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 5\r\n        id: 'wetter5',\r\n        type: 'zb',\r\n        name: 'Wetter5_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'zb/h/wetter/-5 zb/h/wetter/-5/time',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 6\r\n        id: 'wetter6',\r\n        type: 'zb',\r\n        name: 'Wetter6_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'zb/h/wetter/-6 zb/h/wetter/-6/time',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 7\r\n        id: 'wetter7',\r\n        type: 'zb',\r\n        name: 'Wetter7_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'zb/h/wetter/-7 zb/h/wetter/-7/time',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 8\r\n        id: 'wetter8',\r\n        type: 'zb',\r\n        name: 'Wetter8_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'zb/h/wetter/-8 zb/h/wetter/-8/time',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 9\r\n        id: 'wetter9',\r\n        type: 'zb',\r\n        name: 'Wetter9_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'zb/h/wetter/-9 zb/h/wetter/-9/time',\r\n        pubTopic: ''\r\n      },\r\n      { // weather 11\r\n        id: 'wetter11',\r\n        type: 'zb',\r\n        name: 'Wetter11_zb',\r\n        iWeatherState: -1,\r\n        battery: '?',\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'zb/h/wetter/-11 zb/h/wetter/-11/time',\r\n        pubTopic: ''\r\n      },\r\n      { // hut: weather indoor\r\n        id: 'weatherhutin',\r\n        type: 'hut_in',\r\n        name: 'Hut_d1i',\r\n        iWeatherState: -1,\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'ip/h/hu2/huette/ret/status ip/h/hu2/huette/ret/alles',\r\n        pubTopic: ''\r\n      },\r\n      { // hut: weather outdoor\r\n        id: 'weatherhutout',\r\n        type: 'hut_out',\r\n        name: 'Hut_d1o',\r\n        iWeatherState: -1,\r\n        lastWeatherDate: '--.--.--',\r\n        lastWeatherTime: '--:--:--',\r\n        subTopic: 'ip/h/hu2/huette/ret/status ip/h/hu2/huette/ret/alles',\r\n        pubTopic: ''\r\n      }\r\n    ]\r\n  );\r\n\r\n  // ---------Message for this ci (control/indicator)?----------\r\n  public onMessage (message: Message): void {\r\n    this.weathers.forEach(weather => {\r\n      const aSubTopic = weather.subTopic.split(' ')\r\n      if (aSubTopic.includes(message.topic)) {\r\n        // ---weather topic found ------------------------------\r\n        if (message.topic.includes('time')) {\r\n          if (message.payload.length === 15) {\r\n            weather.lastWeatherDate = message.payload.substring(6, 8) + '.' + message.payload.substring(4, 6) + '.' + message.payload.substring(2, 4)\r\n            weather.lastWeatherTime = message.payload.substring(9, 11) + ':' + message.payload.substring(11, 13) + ':' + message.payload.substring(13, 15)\r\n          } else {\r\n            weather.lastWeatherDate = geo0.noDate\r\n            weather.lastWeatherTime = geo0.noTime\r\n          }\r\n        } else {\r\n          weather.iWeatherState = 1\r\n          if (weather.type === 'zb') {\r\n            try {\r\n              // ToDo: ... topic/time ... see Bewegung!\r\n              const aPayload = JSON.parse(message.payload)\r\n              weather.temperature = aPayload.temperature.toFixed(1) + '°C'\r\n              weather.humidity = aPayload.humidity.toFixed(1) + '%'\r\n              weather.battery = aPayload.battery + '%'\r\n              weather.iWeatherState = 0\r\n            } catch (error) { }\r\n          }\r\n          if (weather.type === 'hut_in') {\r\n            try {\r\n              const aPayload = JSON.parse(message.payload)\r\n              weather.temperature = aPayload.Ti.toFixed(1) + '°C'\r\n              weather.humidity = aPayload.Hi.toFixed(1) + '%'\r\n              // weather.pressure = aPayload.pi.toFixed(0) + 'pa'\r\n              weather.brightness = aPayload.Li.toFixed(0) + 'lx'\r\n              weather.text5 = aPayload.pi.toFixed(0) + 'pa'\r\n              // weather.battery = aPayload.battery + '%'\r\n              weather.iWeatherState = 0\r\n            } catch (error) { }\r\n          }\r\n          if (weather.type === 'hut_out') {\r\n            try {\r\n              const aPayload = JSON.parse(message.payload)\r\n              weather.temperature = aPayload.Ta.toFixed(1) + '°C'\r\n              weather.humidity = aPayload.Ha.toFixed(1) + '%'\r\n              // weather.pressure = aPayload.pa.toFixed(0) + 'pa'\r\n              weather.brightness = aPayload.La.toFixed(0) + 'lx'\r\n              weather.text5 = aPayload.pa.toFixed(0) + 'pa'\r\n              // weather.battery = aPayload.battery + '%'\r\n              weather.iWeatherState = 0\r\n            } catch (error) { }\r\n          }\r\n        } // end of else time\r\n      } // END weather topic found\r\n    })\r\n  }\r\n\r\n  public publishCi (topic: string, payload: string): void {\r\n    // console.log('publish:', '-t ' + topic + ' -m ' + payload)\r\n    this.publish(topic, payload, false, 0).catch((e) => { console.error('CiWeatherController: ERROR:', e) })\r\n  }\r\n}\r\n\r\nexport const ciWeatherController = new CiWeatherController()\r\n"]}]}