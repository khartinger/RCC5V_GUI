{"remainingRequest":"G:\\work3\\vue\\haus3\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!G:\\work3\\vue\\haus3\\src\\components\\CiWall1.vue?vue&type=style&index=0&id=91829190&scoped=true&lang=css","dependencies":[{"path":"G:\\work3\\vue\\haus3\\src\\components\\CiWall1.vue","mtime":1676229809615},{"path":"G:\\work3\\vue\\haus3\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus3\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus3\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus3\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogLnN0eWxlQ29tcCB7IGZvbnQ6IGJvbGQgMjRweCBzYW5zLXNlcmlmOyBmaWxsOiBibGFjazsgY3Vyc29yOiBwb2ludGVyO30NCg=="},{"version":3,"sources":["G:\\work3\\vue\\haus3\\src\\components\\CiWall1.vue"],"names":[],"mappings":";CAiRC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"G:/work3/vue/haus3/src/components/CiWall1.vue","sourceRoot":"","sourcesContent":["<!-- CiWall1.vue ----------------------------khartinger----- -->\r\n<!-- 2022-01-08: new                                         -->\r\n<!-- 2023-02-12: change at CiBase (add Geo.ts)               -->\r\n\r\n<template>\r\n  <!--draw border------------------------------------------- -->\r\n  <CiBase :x=\"x\" :y=\"y\" :border=\"border\" :fx=\"1\" :fy=\"1\"></CiBase>\r\n  <!--draw wall1-------------------------------------------- -->\r\n  <path :d=\"drawWall1\" :fill=\"colorWall1\" :stroke=\"colorWall1\" stroke-width=\"1\" />\r\n  <!--write header and footer line-------------------------- -->\r\n  <text v-if=\" header.length>0\" class=\"ciFont1\" :x=\"geof.xt()\" :y=\"geof.yt(1)\">{{header}}</text>\r\n  <text v-if=\" footer.length>0\" class=\"ciFont1\" :x=\"geof.xt()\" :y=\"geof.yt(5)\">{{ footer }}</text>\r\n  <!--two more text lines ;) ------------------------------- -->\r\n  <text v-if=\" line2.length>0\" class=\"ciFont1\" :x=\"geof.xt()\" :y=\"geof.yt(2)\">{{line2}}</text>\r\n  <text v-if=\" line4.length>0\" class=\"ciFont1\" :x=\"geof.xt()\" :y=\"geof.yt(4)\">{{line4}}</text>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport CiBase from './CiBase.vue'\r\nimport { Geof } from '../classes/Geo'\r\nimport { toNumber } from '@vue/shared'\r\n\r\nexport default defineComponent({\r\n  name: 'CiWall1',\r\n  components: {\r\n    CiBase\r\n  },\r\n  data () {\r\n    return {\r\n      fw: 1 as number\r\n    }\r\n  },\r\n  props: {\r\n    x: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    y: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    border: {\r\n      type: Number,\r\n      required: false,\r\n      default: 0\r\n    },\r\n    sid: {\r\n      type: String,\r\n      required: false\r\n    },\r\n    dir: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    color: {\r\n      type: String,\r\n      required: false,\r\n      default: '-'\r\n    },\r\n    header: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    },\r\n    footer: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    },\r\n    line2: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    },\r\n    line4: {\r\n      type: String,\r\n      required: false,\r\n      default: ''\r\n    }\r\n  },\r\n  computed: {\r\n    // =======standard methods==================================\r\n    // _______provide geometric data____________________________\r\n    geof: function (): Geof {\r\n      const geo1 = new Geof(this.x, this.y, 1, 1)\r\n      return geo1\r\n    },\r\n    // _______draw the full path of the wall (attribute dir)____\r\n    drawWall1: function (): string {\r\n      const s1 = this.scanDirection(this.dir)\r\n      return s1\r\n    },\r\n    // _______color of the wall_________________________________\r\n    colorWall1: function (): string {\r\n      if (this.color !== '-') return this.color\r\n      return this.geof.colorWall\r\n    }\r\n  },\r\n  methods: {\r\n    // _______path command: draw a circle_______________________\r\n    circlePath: function (cx: number, cy: number, r: number): string {\r\n      return 'M ' + cx + ' ' + cy + ' m -' + r + ', 0 a ' + r + ',' + r + ' 0 1,0 ' + (r * 2) + ',0 a ' + r + ',' + r + ' 0 1,0 -' + (r * 2) + ',0 z'\r\n    },\r\n\r\n    // _______split dir attribute into path(s)__________________\r\n    // return: path of all walls\r\n    scanDirection: function (sDir: string): string {\r\n      const len_ = sDir.length\r\n      const s0 = sDir + '|'\r\n      let sFullPath = ''\r\n      // ==========for every char in sType======================\r\n      for (let i = 0; i < len_; i++) {\r\n        // --------search for a dir command---------------------\r\n        let iDir = -1\r\n        const c = s0.at(i)\r\n        switch (c) {\r\n          case 'h': case 'H': iDir = 0; break\r\n          case 'd': case 'D': iDir = 1; break\r\n          case 'v': case 'V': iDir = 2; break\r\n          case 't': case 'T': iDir = 3; break\r\n          case 'q': case 'Q': iDir = 10; break\r\n          case 'k': case 'K': iDir = 11; break\r\n          case 'c': case 'C': iDir = 12; break\r\n          case 'w': case 'W': iDir = 99; break\r\n          default: break\r\n        }\r\n        if (iDir >= 0) {\r\n          // ------valid dir command found :) ------------------\r\n          let ok = true\r\n          let fDivisor = 0.0\r\n          let fNum = 0.0\r\n          let cSign = '?'\r\n          i++\r\n          // ......is first char after command a special char?..\r\n          let cNext = s0[i]\r\n          if (cNext === '+') { cSign = '+'; i++ }\r\n          if (cNext === '-') { cSign = '-'; i++ }\r\n          if (cNext === '.') { fDivisor = 1; i++ }\r\n          // ......Are the following chars a valid number?......\r\n          cNext = s0[i]\r\n          while (((cNext >= '0') && (cNext <= '9')) || cNext === '.') {\r\n            if (cNext === '.') {\r\n              if (fDivisor > 0) ok = false\r\n              else fDivisor = 1\r\n            } else {\r\n              const iDigit = toNumber(cNext)\r\n              fNum = fNum * 10 + iDigit\r\n              fDivisor = fDivisor * 10\r\n            }\r\n            i++\r\n            cNext = s0[i]\r\n          }\r\n          i-- // use the last char once more in the next loop\r\n          if (ok) {\r\n            // ----get path for the command---------------------\r\n            if (fNum === 0) {\r\n              // --command without a number (set value to 1)----\r\n              let s0 = ''\r\n              switch (cSign) {\r\n                case '+': // command h+ v+ d+ t+ ...............\r\n                  s0 = this.return1Path(iDir, 1)\r\n                  sFullPath += s0\r\n                  break\r\n                case '-': // command h- v- d- t- ...............\r\n                  sFullPath += this.return1Path(iDir + 4, 1)\r\n                  break\r\n                default: // command h v d t q k c w\r\n                  // for h v d t: draw also negative wall!!.....\r\n                  if (iDir < 10) sFullPath += this.return1Path(iDir + 4, 1)\r\n                  sFullPath += this.return1Path(iDir, 1)\r\n              }\r\n            } else {\r\n              // --the command contains a number----------------\r\n              // ..floating point number?.......................\r\n              if (fDivisor > 0) fNum = fNum / fDivisor\r\n              // ..negative number -> correct the direction.....\r\n              if (cSign === '-') {\r\n                if (iDir < 10) iDir = iDir + 4\r\n              }\r\n              // ..get path string..............................\r\n              sFullPath += this.return1Path(iDir, fNum)\r\n            }\r\n          }\r\n        }\r\n      } // ========END for======================================\r\n      return sFullPath\r\n    },\r\n\r\n    // _______path string for one direktion with given width____\r\n    return1Path: function (iDirection: number, f: number): string {\r\n      // ----calculation of wall thickness values (integers!)---\r\n      const dw2 = this.fw * Math.round(this.geof.dyl / 2) // start value\r\n      const dw = dw2 * 2\r\n      const dw2W = Math.round(dw2 * Math.sqrt(2)) // = 2 * dw2V // = dw2 * Math.sqrt(2)\r\n      const a = dw2W - dw2\r\n      const aa = 2 * a\r\n      const b = dw2 - a\r\n      // -----half size of the outer square---------------------\r\n      const dx2 = this.geof.dxo2()\r\n      const dy2 = this.geof.dyo2()\r\n      // -----Auxiliary variables for within the case statement-\r\n      let xx = 0\r\n      let yy = 0\r\n      // movement to the center of the figure in absolute coordinates\r\n      const s0 = 'M' + this.x + ',' + this.y + ' '\r\n      // auxiliary variable for forming the drawing string (path)\r\n      let s1 = ''\r\n      switch (iDirection) {\r\n        case 0: // h+\r\n          s1 += s0 + 'm-' + a + ',-' + dw2 + ' l-' + b + ',' + b + ' v' + aa + ' l' + b + ',' + b + ' h' + (a + dx2 * f) + ' v-' + dw + ' z'\r\n          break\r\n        case 1: // d+\r\n          s1 += s0 + 'm-' + dw2 + ',-' + a + ' v' + aa + ' l' + b + ',' + b + ' h' + aa + ' l' + (a + dx2 * f) + ',-' + (a + dy2 * f) + ' l-' + dw2W + ',-' + dw2W + ' z'\r\n          break\r\n        case 2: // v+\r\n          s1 += s0 + 'm-' + dw2 + ',' + a + ' l' + b + ',' + b + ' h' + aa + ' l' + b + ',-' + b + ' v-' + (a + dy2 * f) + ' h-' + dw + ' z'\r\n          break\r\n        case 3: // t+\r\n          s1 += s0 + 'm-' + a + ',' + dw2 + ' h' + aa + ' l' + b + ',-' + b + ' v-' + aa + ' l-' + (a + dy2 * f) + ',-' + (a + dx2 * f) + ' l-' + dw2W + ',' + dw2W + ' z'\r\n          break\r\n        case 4: // h-\r\n          s1 += s0 + 'm' + a + ',' + dw2 + ' l' + b + ',-' + b + ' v-' + aa + ' l-' + b + ',-' + b + ' h-' + (a + dx2 * f) + ' v' + dw + ' z'\r\n          break\r\n        case 5: // d-\r\n          s1 += s0 + 'm' + dw2 + ',' + a + ' v-' + aa + ' l-' + b + ',-' + b + ' h-' + aa + ' l-' + (a + dx2 * f) + ',' + (a + dy2 * f) + ' l' + dw2W + ',' + dw2W + ' z'\r\n          break\r\n        case 6: // v-\r\n          s1 += s0 + 'm' + dw2 + ',-' + a + ' l-' + b + ',-' + b + ' h-' + aa + ' l-' + b + ',' + b + ' v' + (a + dy2 * f) + ' h' + dw + ' z'\r\n          break\r\n        case 7: // t-\r\n          s1 += s0 + 'm' + a + ',-' + dw2 + ' h-' + aa + ' l-' + b + ',' + b + ' v' + aa + ' l' + (a + dy2 * f) + ',' + (a + dx2 * f) + ' l' + dw2W + ',-' + dw2W + ' z'\r\n          break\r\n\r\n        case 10: // q\r\n          // ------calculate side length------------------------\r\n          xx = Math.abs(dw2 * f)\r\n          yy = xx\r\n          if (xx > dx2) xx = dx2\r\n          if (yy > dy2) yy = dy2\r\n          s1 += s0 + 'm' + xx + ',-' + yy + ' h-' + (2 * xx) + ' v' + (2 * yy) + ' h' + (2 * xx) + ' z'\r\n          // s1 += s0 + 'm' + dw2 + ',-' + dw2 + ' h-' + dw + ' v' + dw + ' h' + dw + ' z'\r\n          break\r\n        case 11: // k\r\n          // ------calculate side length------------------------\r\n          xx = Math.abs(dw2W * f)\r\n          yy = xx\r\n          if (xx > dx2) xx = dx2\r\n          if (yy > dy2) yy = dy2\r\n          s1 += s0 + 'm0,-' + yy + ' l-' + xx + ',' + yy + ' l' + xx + ',' + yy + ' l' + xx + ',-' + yy + ' z'\r\n          // s1 += s0 + 'm0,-' + dw2W + ' l-' + dw2W + ',' + dw2W + ' l' + dw2W + ',' + dw2W + ' l' + dw2W + ',-' + dw2W + ' z'\r\n          break\r\n        case 12: // c\r\n          // ------calculate radius-----------------------------\r\n          xx = Math.abs(dw2 * f)\r\n          if (xx > dx2) xx = dx2\r\n          if (xx > dy2) xx = dy2\r\n          s1 += this.circlePath(this.x, this.y, xx)\r\n          break\r\n        case 99: // w\r\n          // ------ calc wall thickness: max 3 * dyl------------\r\n          this.fw = f\r\n          if (f > 3) this.fw = 3\r\n          break\r\n        default: break\r\n      }\r\n      return s1\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n .styleComp { font: bold 24px sans-serif; fill: black; cursor: pointer;}\r\n</style>\r\n"]}]}