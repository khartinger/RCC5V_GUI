{"remainingRequest":"G:\\work3\\vue\\haus2\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!G:\\work3\\vue\\haus2\\src\\components\\CiWeather.vue?vue&type=template&id=b887d4a4&ts=true","dependencies":[{"path":"G:\\work3\\vue\\haus2\\src\\components\\CiWeather.vue","mtime":1672658604219},{"path":"G:\\work3\\vue\\haus2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDwhLS1kcmF3IGJvcmRlci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLS0+DQogIDxDaUJhc2UgOng9IngiIDp5PSJ5IiA6Ym9yZGVyPSJib3JkZXIiPjwvQ2lCYXNlPg0KICA8IS0tZHJhdyBzeW1ib2wtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC0tPg0KICA8cmVjdCBjbGFzcz0iY2lSZWN0IiA6eD0iZ2VvLnhyKCkiIDp5PSJnZW8ueXIoMSkiIDp3aWR0aD0iZ2VvLmR4aSIgOmhlaWdodD0iZ2VvLmR5bCIgLz4NCiAgPHJlY3QgY2xhc3M9ImNpRmlsbEl0IiA6eD0iZ2VvLnhyKCkiIDp5PSJnZW8ueXIoMikiIDp3aWR0aD0iZ2VvLmR4aSIgOmhlaWdodD0iMyAqIGdlby5keWwiIDpmaWxsPSJjb2xvclN0YXRlIi8+DQogIDxyZWN0IGNsYXNzPSJjaUZpbGxJdCIgOng9Imdlby54cigpIiA6eT0iZ2VvLnlyKDUpIiA6d2lkdGg9Imdlby5keGkiIDpoZWlnaHQ9Imdlby5keWwiIDpmaWxsPSJjb2xvckJhdHRlcnkiLz4NCiAgPCEtLXdyaXRlIHRleHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAtLT4NCiAgPHRleHQgOng9Imdlby54dCgpIiA6eT0iZ2VvLnl0KDEpIiBjbGFzcz0iY2lGb250MSI+e3t0aXRsZX19PC90ZXh0Pg0KICA8dGV4dCA6eD0iZ2VvLnh0KCkiIDp5PSJnZW8ueXQoMikiIGNsYXNzPSJjaUZvbnQxIj57e2xpbmUyfX08L3RleHQ+DQogIDx0ZXh0IDp4PSJnZW8ueHQoKSIgOnk9Imdlby55dCgzKSIgY2xhc3M9ImNpRm9udDEiPnt7bGluZTN9fTwvdGV4dD4NCiAgPHRleHQgOng9Imdlby54dCgpIiA6eT0iZ2VvLnl0KDQpIiBjbGFzcz0iY2lGb250MSI+e3tsaW5lNH19PC90ZXh0Pg0KICA8dGV4dCA6eD0iZ2VvLnh0KCkiIDp5PSJnZW8ueXQoNSkiIGNsYXNzPSJjaUZvbnQxIj57e2xpbmU1fX08L3RleHQ+DQogIDwhLS1kZWZpbmUgY2xpY2sgYXJlYS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLS0+DQogIDxyZWN0IEBjbGljaz0ib25DbGsoKSIgY2xhc3M9ImNpQ2xpY2siIDp4PSJnZW8ueDAoKSIgOnk9Imdlby55MCgpIiA6d2lkdGg9Imdlby5keG8iIDpoZWlnaHQ9Imdlby5keW8iIC8+DQo="},{"version":3,"sources":["G:\\work3\\vue\\haus2\\src\\components\\CiWeather.vue"],"names":[],"mappings":";EAKE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EAC7D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EAC7D,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACtF,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC9G,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5G,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EAC7D,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EAC7D,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC","file":"G:/work3/vue/haus2/src/components/CiWeather.vue","sourceRoot":"","sourcesContent":["<!-- CiWeather.vue --------------------------khartinger----- -->\r\n<!-- 2022-02-19: new                                         -->\r\n<!-- 2023-01-02: import { Geo } changed                      -->\r\n\r\n<template>\r\n  <!--draw border------------------------------------------- -->\r\n  <CiBase :x=\"x\" :y=\"y\" :border=\"border\"></CiBase>\r\n  <!--draw symbol------------------------------------------- -->\r\n  <rect class=\"ciRect\" :x=\"geo.xr()\" :y=\"geo.yr(1)\" :width=\"geo.dxi\" :height=\"geo.dyl\" />\r\n  <rect class=\"ciFillIt\" :x=\"geo.xr()\" :y=\"geo.yr(2)\" :width=\"geo.dxi\" :height=\"3 * geo.dyl\" :fill=\"colorState\"/>\r\n  <rect class=\"ciFillIt\" :x=\"geo.xr()\" :y=\"geo.yr(5)\" :width=\"geo.dxi\" :height=\"geo.dyl\" :fill=\"colorBattery\"/>\r\n  <!--write text-------------------------------------------- -->\r\n  <text :x=\"geo.xt()\" :y=\"geo.yt(1)\" class=\"ciFont1\">{{title}}</text>\r\n  <text :x=\"geo.xt()\" :y=\"geo.yt(2)\" class=\"ciFont1\">{{line2}}</text>\r\n  <text :x=\"geo.xt()\" :y=\"geo.yt(3)\" class=\"ciFont1\">{{line3}}</text>\r\n  <text :x=\"geo.xt()\" :y=\"geo.yt(4)\" class=\"ciFont1\">{{line4}}</text>\r\n  <text :x=\"geo.xt()\" :y=\"geo.yt(5)\" class=\"ciFont1\">{{line5}}</text>\r\n  <!--define click area------------------------------------- -->\r\n  <rect @click=\"onClk()\" class=\"ciClick\" :x=\"geo.x0()\" :y=\"geo.y0()\" :width=\"geo.dxo\" :height=\"geo.dyo\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/runtime-core'\r\nimport { Weather, ciWeatherController } from '../controller/CiWeatherController'\r\nimport CiBase from './CiBase.vue'\r\nimport { Geo } from '../classes/Geo'\r\n\r\nexport default defineComponent({\r\n  name: 'CiWeather',\r\n  components: {\r\n    CiBase\r\n  },\r\n  data () {\r\n    return {\r\n      batteryMin: 15\r\n    }\r\n  },\r\n  props: {\r\n    x: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    y: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    border: {\r\n      type: Number,\r\n      required: false,\r\n      default: 2\r\n    },\r\n    sid: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    lines: {\r\n      type: String,\r\n      required: false,\r\n      default: '1'\r\n    }\r\n  },\r\n  computed: {\r\n    weather: function (): Weather | undefined {\r\n      return ciWeatherController.weathers.find(weather => weather.id === this.sid)\r\n    },\r\n    iWeatherState: function (): number {\r\n      return this.weather?.iWeatherState ?? -1\r\n    },\r\n    lastWeatherDate: function (): string {\r\n      if (this.weather) {\r\n        if (this.iWeatherState >= 0) return this.weather?.lastWeatherDate ?? this.geo.noDate\r\n      }\r\n      return this.geo.noDate\r\n    },\r\n    lastWeatherTime: function (): string {\r\n      if (this.weather) {\r\n        if (this.iWeatherState >= 0) return this.weather?.lastWeatherTime ?? this.geo.noTime\r\n      }\r\n      return this.geo.noTime\r\n    },\r\n    // -------provide geometric data----------------------------\r\n    geo: function (): Geo {\r\n      const geo1 = new Geo(this.x, this.y)\r\n      return geo1\r\n    },\r\n    // -------text in line ...----------------------------------\r\n    title: function (): string {\r\n      if (this.weather?.name) return this.geo.center(this.weather.name)\r\n      return this.geo.center(this.sid)\r\n    },\r\n    line2: function (): string {\r\n      if (this.iWeatherState !== 0) return ''\r\n      if (this.weather?.temperature) return this.geo.center(this.weather.temperature.toString())\r\n      return ''\r\n    },\r\n    line3: function (): string {\r\n      if (this.iWeatherState !== 0) return this.geo.center('unknown')\r\n      if (this.weather?.humidity) return this.geo.center(this.weather.humidity.toString())\r\n      return ''\r\n    },\r\n    line4: function (): string {\r\n      if (this.iWeatherState !== 0) return ''\r\n      // if (this.weather?.type === 'zb') return ''\r\n      if (this.weather?.brightness) return this.geo.center(this.weather.brightness.toString())\r\n      return ''\r\n    },\r\n    line5: function (): string {\r\n      // console.log('line5: ', this.weather?.lastWeatherTime)\r\n      if (this.weather?.text5) return this.geo.center(this.weather.text5.toString())\r\n      if (this.weather?.battery) return this.geo.center(this.weather.lastWeatherTime.substring(0, 5) + ' ' + this.weather.battery.toString())\r\n      if (this.weather?.lastWeatherTime) return this.weather.lastWeatherTime.substring(0, 5)\r\n      return ''\r\n    },\r\n\r\n    // -------color line 2 to 4 depending on iWeatherState------\r\n    colorState: function (): string {\r\n      // console.log('colorState: ', 'iWeatherState=' + this.iWeatherState)\r\n      if (this.iWeatherState === 0) return this.geo.colorOk\r\n      if (this.iWeatherState === 1) return this.geo.colorNotOk\r\n      return this.geo.colorUnknown\r\n      // return 'none'\r\n    },\r\n\r\n    // -------color of rectangle 5 depending on battery value---\r\n    colorBattery: function (): string {\r\n      if (this.weather?.text5) return 'none' // this.geo.colorOk\r\n      if (this.weather?.battery) {\r\n        try {\r\n          const batt = parseInt(this.geo.center(this.weather.battery).valueOf())\r\n          if (batt > this.batteryMin) return this.geo.colorOk\r\n          return this.geo.colorNotOk\r\n        } catch (error) { return 'none' }\r\n      }\r\n      return this.geo.colorUnknown\r\n      // return 'none'\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    /*\r\n    // -------calculate y start value of rectangle 1...5--------\r\n    calcYr: function (linenum: number): number {\r\n      if (linenum < 1 || linenum > 5) linenum = 1\r\n      return (this.y - geo.dyi2 + (linenum - 1) * geo.dyl)\r\n    },\r\n    // -------calculate y start value of text 1...5-------------\r\n    calcYt: function (linenum: number): number {\r\n      if (linenum < 1 || linenum > 5) linenum = 1\r\n      return (this.y + geo.yt1 + (linenum - 1) * geo.dyl)\r\n    },\r\n    */\r\n    // -------react on click: publish a message (if any exists)-\r\n    onClk: function (): void {\r\n      console.log(this.sid, 'Weather-Click')\r\n      if (this.weather) {\r\n        if (this.weather.pubTopic) {\r\n          let payload = '?'\r\n          const aPubTopic = this.weather.pubTopic.split(' ')\r\n          // -publish all given topics--------------------------\r\n          aPubTopic.forEach(topic => {\r\n            if (this.weather?.pubPayload) payload = this.weather.pubPayload\r\n            ciWeatherController.publishCi(topic, payload)\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}