{"remainingRequest":"G:\\work3\\vue\\haus2\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!G:\\work3\\vue\\haus2\\src\\components\\CiTimeDate.vue?vue&type=style&index=0&id=6ac01451&scoped=true&lang=css","dependencies":[{"path":"G:\\work3\\vue\\haus2\\src\\components\\CiTimeDate.vue","mtime":1672658604219},{"path":"G:\\work3\\vue\\haus2\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\work3\\vue\\haus2\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoudzJCYWNrIHtmaWxsOiBibHVlOyB9DQoudzJGb250MSB7IGZvbnQtc2l6ZTogMzVweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZpbGw6IHllbGxvdzsgY29sb3I6IGxpZ2h0Z3JlZW47IGZvbnQtZmFtaWx5OiAiRGVqYVZ1IFNhbnMgTW9ubyIsIm1vbm9zcGFjZSI7IHdoaXRlLXNwYWNlOiBwcmU7IH0NCg0K"},{"version":3,"sources":["G:\\work3\\vue\\haus2\\src\\components\\CiTimeDate.vue"],"names":[],"mappings":";AAuHA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;AACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE","file":"G:/work3/vue/haus2/src/components/CiTimeDate.vue","sourceRoot":"","sourcesContent":["<!-- CiTimeDate.vue -------------------------khartinger----- -->\r\n<!-- 2022-02-17: new                                         -->\r\n<!-- 2023-01-02: import { Geo } changed                      -->\r\n\r\n<template>\r\n  <!--draw border: : outer and inner rectangle-------------- -->\r\n  <rect v-if=\"border0\" class=\"ciOut\" :x=\"geo.x0()\" :y=\"geo.y0()\" :width=\"2*geo.dxo\" :height=\"geo.dyo\" />\r\n  <rect v-if=\"border1\" class=\"ciIn\"  :x=\"geo.x1()\" :y=\"geo.y1()\" :width=\"2*geo.dxo-2*geo.dxm\" :height=\"geo.dyi\" />\r\n\r\n  <rect class=\"w2Back\"  :x=\"geo.x1()\" :y=\"geo.yr(1)\" :width=\"2*geo.dxo-2*geo.dxm\" :height=\"5*geo.dyl\" />\r\n  <text class=\"w2Font1\" :x=\"xTime\" :y=\"geo.y1() + 2.05*geo.dyl\">{{ timeHMS }}</text>\r\n  <text class=\"w2Font1\" :x=\"xDate\" :y=\"geo.y1() + 4.45*geo.dyl\">{{ dateDM }}</text>\r\n\r\n<!--define click area------------------------------------- -->\r\n  <rect @click=\"onClk()\" class=\"ciClick\" :x=\"geo.x0()\" :y=\"geo.y0()\" :width=\"geo.dxo\" :height=\"geo.dyo\" />\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from '@vue/runtime-core'\r\nimport { TimeDate, ciTimeDateController } from '../controller/CiTimeDateController'\r\nimport { Geo } from '../classes/Geo'\r\n\r\nexport default defineComponent({\r\n  name: 'CiTimeDate',\r\n  data () {\r\n    return {\r\n      colorTimeDate: 'yellow',\r\n      intervalHandle: null as any,\r\n      timeHMS: new Date().toLocaleTimeString(),\r\n      dateDM: this.fDateDM()\r\n    }\r\n  },\r\n  props: {\r\n    x: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    y: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    border: {\r\n      type: Number,\r\n      required: false,\r\n      default: 2\r\n    },\r\n    sid: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    timeDate: function (): TimeDate | undefined {\r\n      return ciTimeDateController.timeDates.find(timeDate => timeDate.id === this.sid)\r\n    },\r\n    iTimeDateState: function (): number {\r\n      return this.timeDate?.iTimeDateState ?? -1\r\n    },\r\n    // -------provide geometric data----------------------------\r\n    geo: function (): Geo {\r\n      const geo1 = new Geo(this.x, this.y)\r\n      return geo1\r\n    },\r\n    border0: function (): boolean {\r\n      if (this.border > 1) return true\r\n      return false\r\n    },\r\n    border1: function (): boolean {\r\n      if (this.border > 0) return true\r\n      return false\r\n    },\r\n    xTime: function (): number {\r\n      return this.geo.xt() + 1.5 * this.geo.dxm\r\n    },\r\n    xDate: function (): number {\r\n      const len1 = this.fDateDM().length\r\n      if (len1 === 7) return this.geo.xt() + 4.2 * this.geo.dxm\r\n      if (len1 === 8) return this.geo.xt() + 2.1 * this.geo.dxm\r\n      return this.geo.xt() + 0.0 * this.geo.dxm // len=9\r\n    }\r\n  },\r\n  mounted: function (): void {\r\n    this.intervalHandle = setInterval(() => {\r\n      this.timeHMS = new Date().toLocaleTimeString()\r\n      this.dateDM = this.fDateDM()\r\n    }, 1000)\r\n  },\r\n  unmounted: function (): void {\r\n    clearInterval(this.intervalHandle)\r\n  },\r\n  methods: {\r\n    // -------day and date e.g. DO 17.2.------------------------\r\n    fDateDM: function (): string {\r\n      const wochentag = ['SO', 'MO', 'DI', 'MI', 'DO', 'FR', 'SA']\r\n      const now = new Date()\r\n      const s1 = wochentag[now.getDay()] + ' ' + now.getDate() + '.' + (now.getMonth() + 1) + '.'\r\n      // const s1 = 'MO 1.1.'\r\n      return s1\r\n    },\r\n    // -------react on click: publish a message (if any exists)-\r\n    onClk: function (): void {\r\n      console.log(this.sid, 'TimeDate-Click')\r\n      if (this.timeDate) {\r\n        if (this.timeDate.pubTopic) {\r\n          let payload = '?'\r\n          const aPubTopic = this.timeDate.pubTopic.split(' ')\r\n          // -publish all given topics--------------------------\r\n          aPubTopic.forEach(topic => {\r\n            if (this.timeDate?.pubPayload) payload = this.timeDate.pubPayload\r\n            ciTimeDateController.publishCi(topic, payload)\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.w2Back {fill: blue; }\r\n.w2Font1 { font-size: 35px; font-weight: bold; fill: yellow; color: lightgreen; font-family: \"DejaVu Sans Mono\",\"monospace\"; white-space: pre; }\r\n\r\n</style>\r\n"]}]}